(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/todo/application/views/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"10bf":function(t,e,a){},"134d":function(t,e,a){"use strict";var s=a("1794"),n=a.n(s);n.a},"158c":function(t,e,a){},1794:function(t,e,a){},"17d9":function(t,e,a){"use strict";var s=a("3d32"),n=a.n(s);n.a},"1b16":function(t,e,a){"use strict";var s=a("158c"),n=a.n(s);n.a},"20bc":function(t,e,a){},"2d25":function(t,e,a){},"2e05":function(t,e,a){"use strict";var s=a("8d5c"),n=a.n(s);n.a},"355e":function(t,e,a){"use strict";var s=a("10bf"),n=a.n(s);n.a},"3a8b":function(t,e,a){"use strict";var s=a("877f"),n=a.n(s);n.a},"3d32":function(t,e,a){},4219:function(t,e,a){"use strict";var s=a("5863"),n=a.n(s);n.a},"4dca":function(t,e,a){},5159:function(t,e,a){"use strict";var s=a("c46a"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("99af"),a("4de4"),a("a9e3"),a("25eb"),a("4d90"),a("acb6"),a("450d");var s=a("c673"),n=a.n(s),r=(a("f225"),a("89a9")),i=a.n(r),o=(a("6611"),a("e772")),c=a.n(o),l=(a("672e"),a("101e")),u=a.n(l),d=(a("a7cc"),a("df33")),p=a.n(d),m=(a("06f1"),a("6ac9")),f=a.n(m),h=(a("e3ea"),a("7bc3")),g=a.n(h),v=(a("826b"),a("c263")),k=a.n(v),w=(a("0c67"),a("299c")),b=a.n(w),_=(a("b5d8"),a("f494")),y=a.n(_),x=(a("425f"),a("4105")),C=a.n(x),$=(a("eca7"),a("3787")),T=a.n($),I=(a("10cb"),a("f3ad")),R=a.n(I),S=(a("b8e0"),a("a4c4")),O=a.n(S),L=(a("8bd8"),a("4cb2")),j=a.n(L),D=(a("4ca3"),a("443e")),E=a.n(D),P=(a("920a"),a("4f0c")),F=a.n(P),q=(a("f4f9"),a("c2cc")),N=a.n(q),A=(a("7a0f"),a("0f6c")),M=a.n(A),H=(a("960d"),a("defb")),Y=a.n(H),z=(a("cb70"),a("b370")),U=a.n(z),V=(a("5466"),a("ecdf")),B=a.n(V),Z=(a("38a0"),a("ad41")),G=a.n(Z),J=(a("ce18"),a("f58e")),K=a.n(J),X=(a("de31"),a("c69e")),Q=a.n(X),W=(a("a769"),a("5cc3")),tt=a.n(W),et=(a("adec"),a("3d2d")),at=a.n(et),st=(a("1f1a"),a("4e4b")),nt=a.n(st),rt=(a("1951"),a("eedf")),it=a.n(rt),ot=(a("9e1f"),a("6ed5")),ct=a.n(ot),lt=(a("0fb7"),a("f529")),ut=a.n(lt),dt=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},mt=[],ft=a("2877"),ht={},gt=Object(ft["a"])(ht,pt,mt,!1,null,null,null),vt=gt.exports,kt=a("8c4f"),wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",[t._v("title")]),a("div",[t._v("body "),a("el-button",{attrs:{type:"success",plain:""},on:{click:t.toHomeHandler}},[t._v("去home")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:t.toRegHandler}},[t._v("去注册")])],1)])},bt=[],_t={methods:{toHomeHandler:function(){this.$router.push("/todo/home")},toRegHandler:function(){this.$router.push("/todo/register")}}},yt=_t,xt=(a("a37e"),Object(ft["a"])(yt,wt,bt,!1,null,"b9655636",null)),Ct=xt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[a("el-aside",{staticStyle:{"background-color":"white"},attrs:{width:"280px"}},[a("div",{staticClass:"person-info-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v("SuSu To-Do")])])],1),a("el-row",{staticClass:"avatar"},[a("el-col",{staticClass:"avatarInfo",attrs:{span:20},nativeOn:{click:function(e){return t.clickPersonInfo(e)}}},[a("el-avatar",{attrs:{size:35,src:t.personInfo.head_sculpture},on:{error:t.errorHandler}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]),a("div",{staticClass:"personInfo"},[a("h5",{staticClass:"username"},[t._v(t._s(t.personInfo.name))]),a("h6",{staticClass:"loginmark"},[t._v(t._s(t.personInfo.login_name))])])],1),a("el-col",{staticClass:"search",attrs:{span:4},nativeOn:{click:function(e){return t.clickSearch(e)}}},[a("i",{staticClass:"el-icon-search"})])],1),t.showPerson?a("el-card",{staticClass:"showPerson-card"},[a("ul",[a("li",{on:{click:t.handleUserClick}},[a("i",{staticClass:"el-icon-user"}),a("p",[t._v("管理账户")])]),a("li",{on:{click:t.clickSetting}},[a("i",{staticClass:"el-icon-setting"}),a("p",[t._v("设置")])])])]):t._e()],1),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeMenu,"background-color":"#fbfcfe",router:""}},[a("el-menu-item",{attrs:{index:"/todo/myday"}},[a("i",{staticClass:"el-icon-sunny",staticStyle:{color:"#586570"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("我的一天")])]),a("el-menu-item",{attrs:{index:"/todo/import"}},[a("i",{staticClass:"el-icon-star-off",staticStyle:{color:"#b04365"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("重要")])]),a("el-menu-item",{attrs:{index:"/todo/ppf"}},[a("i",{staticClass:"el-icon-finished",staticStyle:{color:"#418669"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("往昔-当下-谜")])]),a("el-menu-item",{attrs:{index:"/todo/all"}},[a("i",{staticClass:"el-icon-menu",staticStyle:{color:"#c8605c"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("全部")])]),a("el-menu-item",{attrs:{index:"/todo/completed"}},[a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#1e704d"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("已完成")])]),a("el-menu-item",{attrs:{index:"/todo/overdue"}},[a("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"#f00"}}),a("span",[t._v("逾期未完成")])]),a("el-menu-item",{attrs:{index:"/todo/lists/all_001"}},[a("i",{staticClass:"el-icon-s-home",staticStyle:{color:"rgb(92, 112, 190)"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("任务")])])],1),a("div",{staticClass:"divider"},[a("el-divider")],1),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeMenu,"background-color":"#fbfcfe",router:""}},t._l(this.$store.state.taskList,(function(e,s){return a("el-menu-item",{key:e.lid,attrs:{index:"/todo/lists/"+e.lid},nativeOn:{contextmenu:function(e){return e.preventDefault(),t.handleManageList(e,s)}}},[a("i",{staticClass:"el-icon-collection",staticStyle:{color:"#5c70be"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.listName))])])})),1),a("div",{staticStyle:{margin:"15px"}},[a("el-input",{attrs:{placeholder:"新建清单",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAddList(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[a("el-button",{staticClass:"my-primary",attrs:{type:"primary"},on:{click:t.handleAddList}},[t._v("添加")])]},proxy:!0}]),model:{value:t.newListName,callback:function(e){t.newListName=e},expression:"newListName"}})],1),a("div",{staticClass:"mask",style:t.styleMask,on:{click:t.handleMask}},[a("ul",{staticClass:"manage-box",style:t.styleManage},[a("li",{staticClass:"manage-list",on:{click:function(e){return e.stopPropagation(),t.renameList(e)}}},[a("i",{staticClass:"el-icon-edit"}),a("span",[t._v("重命名")])]),a("li",{staticClass:"manage-list",on:{click:function(e){return e.stopPropagation(),t.deleteLit(e)}}},[a("i",{staticClass:"el-icon-delete"}),a("span",[t._v("删除")])])])]),a("el-dialog",{attrs:{title:"重命名清单",visible:t.isVisible,width:"400px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"rename-list"},[t._v(" 当前名： "),a("el-input",{attrs:{placeholder:"",disabled:!0},model:{value:this.renameItem.listName,callback:function(e){t.$set(this.renameItem,"listName",e)},expression:"this.renameItem.listName"}})],1),a("div",{staticClass:"rename-list"},[t._v(" 重命名： "),a("el-input",{attrs:{placeholder:"请输入新的清单名"},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isVisible=!1,t.newName=""}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmRename}},[t._v("确 定")])],1)]),a("el-dialog",{staticClass:"manager-dialog",attrs:{title:"管理账户",visible:t.showUserDialog,width:"328px","show-close":!1},on:{"update:visible":function(e){t.showUserDialog=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("span",{staticClass:"user-dialog-footer"},[a("el-button",{on:{click:function(e){t.showUserDialog=!1}}},[t._v("关 闭")])],1)]},proxy:!0}])},[a("span",{staticClass:"dialog-user-info"},[a("el-avatar",{attrs:{size:40,src:t.personInfo.head_sculpture},on:{error:t.errorHandler}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]),a("div",{staticClass:"dialog-person-info"},[a("h5",{staticClass:"username"},[t._v(t._s(t.personInfo.name))]),a("h6",{staticClass:"loginmark"},[t._v(t._s(t.personInfo.login_name))])]),a("div",{staticClass:"cancelBtn"},[a("el-button",{attrs:{type:"danger"},on:{click:t.isCancelHandler}},[t._v("退出")])],1)],1),a("span",{staticClass:"alert-userinfo",on:{click:t.alterBtnHandler}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"el-icon-plus"})]),a("span",{staticClass:"alert-btn"},[t._v("修改信息")])])])],1),a("el-main",{staticStyle:{"background-color":"rgb(231, 236, 240)"}},[a("router-view")],1)],1)},Tt=[],It=(a("96cf"),a("1da1")),Rt={data:function(){return{showPerson:!1,personInfo:{name:"未登录",login_name:"登录后显示"},taskList:null,newListName:"",styleManage:{display:"none",left:"",top:""},styleMask:{display:"none"},isVisible:!1,listIndex:0,renameItem:{tid:"",listName:""},newName:"",showUserDialog:!1}},created:function(){this.loadInfo(),this.getList()},watch:{},computed:{activeMenu:function(){var t=this.$route,e=t.path;return e},listCopy:function(){return this.$store.state.taskList}},methods:{errorHandler:function(){return!0},clickPersonInfo:function(){this.showPerson=!this.showPerson},handleUserClick:function(){this.showUserDialog=!0,this.showPerson=!1},clickSearch:function(){this.$router.push("/todo/search")},clickSetting:function(){this.$router.push("/todo/setting")},isCancelHandler:function(){var t=this;this.$Msg.confirm("确认退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.localStorage.removeItem("token"),t.$message({type:"success",message:"退出成功!"}),t.$router.push("/todo/login")})).catch((function(){t.$message({type:"info",message:"已取消"})}))},alterBtnHandler:function(){this.showUserDialog=!1,this.$router.push("/todo/alter")},loadInfo:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("home/load");case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return");case 6:t.personInfo=s.data.pInfo,console.log(s);case 8:case"end":return e.stop()}}),e)})))()},getList:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/loadList");case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message({message:"获取任务清单失败！",type:"error"}));case 6:t.$store.state.taskList=s.data.list,t.taskList=t.$store.state.taskList;case 8:case"end":return e.stop()}}),e)})))()},handleAddList:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newListName){e.next=2;break}return e.abrupt("return",t.$message.warning("清单名不能为空！"));case 2:return a={name:t.newListName},s=null,e.prev=4,e.next=7,t.$http.post("list/addList",a);case 7:n=e.sent,r=n.data,s=r,e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](4),t.$message.error("添加清单错误！"),e.abrupt("return");case 16:if(201===s.meta.status){e.next=18;break}return e.abrupt("return",t.$message.error("添加清单失败！"));case 18:t.getList(),t.newListName="";case 20:case"end":return e.stop()}}),e,null,[[4,12]])})))()},handleManageList:function(t,e){var a=t.clientX,s=t.clientY;this.listIndex=e,this.renameItem=this.listCopy[e],this.styleManage.display="block",this.styleManage.left=a+10+"px",this.styleManage.top=s+10+"px",this.styleMask.display="block"},handleMask:function(){this.styleMask.display="none",this.styleManage.display="none",console.log("hf: ",this.styleMask,this.styleManage)},renameList:function(){this.styleMask.display="none",this.styleManage.display="none",this.isVisible=!0},deleteLit:function(){var t=this;this.styleMask.display="none",this.styleManage.display="none",this.$Msg.confirm("确认删除清单？","删除清单",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,t.$http.post("list/remove",t.renameItem);case 4:s=e.sent,n=s.data,a=n,e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](1),e.abrupt("return",t.$message.error("删除错误！"));case 12:if(204===a.meta.status){e.next=14;break}return e.abrupt("return",t.$message.error("删除失败！"));case 14:t.getList();case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},confirmRename:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.renameItem,a.listName=t.newName,s=null,e.prev=3,e.next=6,t.$http.post("list/rename",a);case 6:n=e.sent,r=n.data,s=r,e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](3),t.$message.error("重命名出错！"),e.abrupt("return");case 15:if(200===s.meta.status){e.next=17;break}return e.abrupt("return",t.$message.error("重命名失败！"));case 17:t.getList(),t.newName="",t.isVisible=!1;case 20:case"end":return e.stop()}}),e,null,[[3,11]])})))()}}},St=Rt,Ot=(a("3a8b"),Object(ft["a"])(St,$t,Tt,!1,null,"b4acf3c2",null)),Lt=Ot.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("根路径")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.toTodoHandler}},[t._v("去todo")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:t.toHomeHandler}},[t._v("去home")])],1)},Dt=[],Et={methods:{toTodoHandler:function(){this.$router.push("todo")},toHomeHandler:function(){this.$router.push("todo/home")}}},Pt=Et,Ft=Object(ft["a"])(Pt,jt,Dt,!1,null,null,null),qt=Ft.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[t._m(0),a("div",{staticClass:"route-btns"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/todo/home")}}},[t._v("去 Home")]),a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.$router.push("/todo/login")}}},[t._v("去登录")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$router.push("/")}}},[t._v("未知的首页")]),a("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.$router.push("/todo")}}},[t._v("未知的二级首页")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.$router.push("/todo/alter")}}},[t._v("危险按钮")])],1)])},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found-box"},[a("h1",{staticClass:"title"},[t._v("假装自己是个 404")]),a("div",{staticClass:"introduce"},[a("div",{staticClass:"truly"},[a("p",{staticClass:"truly-text"},[t._v("404")]),a("p",{staticClass:"truly-intro"},[t._v("真实的我")])]),a("div",{staticClass:"falsly"},[a("p",{staticClass:"falsly-text"},[t._v("200")]),a("p",{staticClass:"falsly-intro"},[t._v("我和其他组件没什么不同")])]),a("div",{staticClass:"pretend"},[a("p",{staticClass:"pretend-text"},[t._v("200-404")]),a("p",{staticClass:"pretend-intro"},[t._v("你看见的我")])])])])}],Mt={},Ht=Mt,Yt=(a("4219"),Object(ft["a"])(Ht,Nt,At,!1,null,"272731fe",null)),zt=Yt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[a("div",{staticClass:"header"},[t._m(0),a("p",{staticClass:"datetime"},[t._v(t._s(t._f("current")("日期过滤器")))])]),a("main",{staticClass:"main"},[a("su-item",{attrs:{data:t.tasks.plan,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.firstComplete,"impt-toggle":t.firstImportToggle,active:function(e){return t.handleActive(e)}}}),t.count?a("su-button",{attrs:{count:t.count},nativeOn:{click:function(e){t.isfold=!t.isfold}}}):t._e(),t.isfold?t._e():a("su-item",{attrs:{data:t.tasks.done,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.secondComplete,"impt-toggle":t.secondImportToggle,active:function(e){return t.handleActive(e)}}})],1),a("su-input",{attrs:{placeholder:"添加任务","list-prop":t.taskList,"default-list":t.defaultList},on:{"select-lid":t.handleSelectLid,"keyup-enter":t.handleEnter}})],1),t.showDetail?a("su-detail",{attrs:{detail:t.oneTask},on:{close:function(e){return t.handleActive(e)},delete:t.deleteTask}}):t._e()],1)},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-sunny",staticStyle:{color:"#586570"}}),a("span",[t._v("我的一天")])])}];a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("5319");function Bt(t,e){var a,s={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var n in s)a=new RegExp("("+n+")").exec(t),a&&(t=t.replace(a[1],1==a[1].length?s[n]:s[n].padStart(a[1].length,"0")));return t}function Zt(t,e,a){return Gt.apply(this,arguments)}function Gt(){return Gt=Object(It["a"])(regeneratorRuntime.mark((function t(e,a,s){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},n.tid=e[a].tid,e[a].complete?n.end_time="0000-00-00 00:00:00":n.end_time=Bt("YYYY-mm-dd HH:MM:SS",new Date),e[a].complete=!e[a].complete,t.next=6,this.$http.post("tasks/toggComplete",n);case 6:if(r=t.sent,i=r.data,204===i.meta.status){t.next=10;break}return t.abrupt("return",this.$message.error("修改状态失败！"));case 10:s.call(this);case 11:case"end":return t.stop()}}),t,this)}))),Gt.apply(this,arguments)}function Jt(t,e,a){return Kt.apply(this,arguments)}function Kt(){return Kt=Object(It["a"])(regeneratorRuntime.mark((function t(e,a,s){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},n.tid=e[a].tid,n.important=!e[a].import,e[a].import=!e[a].import,t.next=6,this.$http.post("tasks/toggleImpt",n);case 6:if(r=t.sent,i=r.data,204===i.meta.status){t.next=10;break}return t.abrupt("return",this.$message.error("切换重要性失败！"));case 10:s.call(this);case 11:case"end":return t.stop()}}),t,this)}))),Kt.apply(this,arguments)}var Xt={dateFormat:Bt,complete:Zt,importToggle:Jt},Qt={data:function(){return{showDetail:!1,oneTask:{},tasks:{plan:[],done:[]},activedId:"-1",isfold:!1}},created:function(){this.loadTasks()},computed:{taskList:function(){return this.$store.state.taskList},defaultList:function(){return this.$store.state.defaultList},count:function(){return this.tasks.done.length}},methods:{firstComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},secondComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},firstImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},secondImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},handleActive:function(t){t!==this.activedId?(this.showDetail=!0,this.activedId=t,this.detail()):(this.showDetail=!1,this.activedId="-1"),console.log(t)},handleSelectLid:function(t){this.lid=t,console.log(this.lid)},handleEnter:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.my_day=!0,a.next=3,e.$http.post("tasks/addTask",t);case 3:if(s=a.sent,n=s.data,201===n.meta.status){a.next=7;break}return a.abrupt("return",e.$message.error("添加任务失败！"));case 7:e.loadTasks();case 8:case"end":return a.stop()}}),a)})))()},loadTasks:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/myday");case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取数据失败！"));case 6:for(n=s.data.myday_tasks,r=n.length,i={plan:[],done:[]},o=0;o<r;o++)"0000-00-00 00:00:00"===n[o].end_time?n[o].complete=!1:n[o].complete=!0,"0"===n[o].import?n[o].import=!1:n[o].import=!0,n[o].complete?i.done.push(n[o]):i.plan.push(n[o]);t.tasks=i,console.log(t.tasks);case 10:case"end":return e.stop()}}),e)})))()},detail:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/detail?tid="+t.activedId);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取任务信息失败！"));case 6:t.oneTask=s.data.detail;case 7:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("tasks/delete?tid="+t);case 2:if(s=a.sent,n=s.data,204===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("删除失败！"));case 6:e.$message.success("删除成功！"),e.showDetail=!1,e.activedId="-1",e.loadTasks();case 10:case"end":return a.stop()}}),a)})))()}}},Wt=Qt,te=(a("6d3b"),Object(ft["a"])(Wt,Ut,Vt,!1,null,"11d8eca7",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[t._m(0),a("main",{staticClass:"main"},[a("su-item",{attrs:{data:t.tasks.plan,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.firstComplete,"impt-toggle":t.firstImportToggle,active:function(e){return t.handleActive(e)}}}),t.count?a("su-button",{attrs:{count:t.count},nativeOn:{click:function(e){t.isfold=!t.isfold}}}):t._e(),t.isfold?t._e():a("su-item",{attrs:{data:t.tasks.done,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.secondComplete,"impt-toggle":t.secondImportToggle,active:function(e){return t.handleActive(e)}}})],1),a("su-input",{attrs:{placeholder:"添加任务","list-prop":t.taskList,"default-list":t.defaultList},on:{"select-lid":t.handleSelectLid,"keyup-enter":t.handleEnter}})],1),t.showDetail?a("su-detail",{attrs:{detail:t.oneTask},on:{close:function(e){return t.handleActive(e)},delete:t.deleteTask}}):t._e()],1)},se=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-star-off",staticStyle:{color:"#b04365"}}),a("span",[t._v("重要")])])])}],ne={data:function(){return{showDetail:!1,tasks:{plan:[],done:[]},activedId:"-1",oneTask:{},isfold:!1}},created:function(){this.loadTasks()},computed:{taskList:function(){return this.$store.state.taskList},defaultList:function(){return this.$store.state.defaultList},count:function(){return this.tasks.done.length}},methods:{firstComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},secondComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},firstImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},secondImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},handleActive:function(t){t!==this.activedId?(this.showDetail=!0,this.activedId=t,this.detail()):(this.showDetail=!1,this.activedId="-1"),console.log(t)},handleSelectLid:function(t){this.lid=t,console.log(this.lid)},handleEnter:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.important=!0,a.next=3,e.$http.post("tasks/addTask",t);case 3:if(s=a.sent,n=s.data,201===n.meta.status){a.next=7;break}return a.abrupt("return",e.$message.error("添加任务失败！"));case 7:e.loadTasks();case 8:case"end":return a.stop()}}),a)})))()},loadTasks:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/getImpt");case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取数据失败！"));case 6:for(n=s.data.tasks,r=n.length,i={plan:[],done:[]},o=0;o<r;o++)"0000-00-00 00:00:00"===n[o].end_time?n[o].complete=!1:n[o].complete=!0,"0"===n[o].import?n[o].import=!1:n[o].import=!0,n[o].complete?i.done.push(n[o]):i.plan.push(n[o]);t.tasks=i,console.log(t.tasks);case 10:case"end":return e.stop()}}),e)})))()},detail:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/detail?tid="+t.activedId);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取任务信息失败！"));case 6:t.oneTask=s.data.detail;case 7:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("tasks/delete?tid="+t);case 2:if(s=a.sent,n=s.data,204===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("删除失败！"));case 6:e.$message.success("删除成功！"),e.showDetail=!1,e.activedId="-1",e.loadTasks();case 10:case"end":return a.stop()}}),a)})))()}}},re=ne,ie=(a("355e"),Object(ft["a"])(re,ae,se,!1,null,"0a0028ba",null)),oe=ie.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[t._m(0),a("main",{staticClass:"main"},[a("section",{staticClass:"yesterday"},[a("div",{staticClass:"title"},[t._v("yday")]),a("div",{staticClass:"item-box"},[a("su-item",{attrs:{data:t.yesterdayTasks.plan,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.yFirstComplete,"impt-toggle":t.yFirstImportToggle,active:function(e){return t.handleActive(e)}}}),t.ycount?a("su-button",{attrs:{count:t.ycount},nativeOn:{click:function(e){t.yisfold=!t.yisfold}}}):t._e(),t.yisfold?t._e():a("su-item",{attrs:{data:t.yesterdayTasks.done,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.ySecondComplete,"impt-toggle":t.ySecondImportToggle,active:function(e){return t.handleActive(e)}}})],1)]),a("section",{staticClass:"today"},[a("div",{staticClass:"title"},[t._v("today")]),a("div",{staticClass:"item-box"},[a("su-item",{attrs:{data:t.todayTasks.plan,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.tFirstComplete,"impt-toggle":t.tFirstImportToggle,active:function(e){return t.handleActive(e)}}}),t.tcount?a("su-button",{attrs:{count:t.tcount},nativeOn:{click:function(e){t.tisfold=!t.tisfold}}}):t._e(),t.tisfold?t._e():a("su-item",{attrs:{data:t.todayTasks.done,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.tSecondComplete,"impt-toggle":t.tSecondImportToggle,active:function(e){return t.handleActive(e)}}})],1)]),a("section",{staticClass:"tomorrow"},[a("div",{staticClass:"title"},[t._v("twm")]),a("div",{staticClass:"item-box"},[a("su-item",{attrs:{data:t.tomorrowTasks.plan,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.tmFirstComplete,"impt-toggle":t.tmFirstImportToggle,active:function(e){return t.handleActive(e)}}}),t.tmcount?a("su-button",{attrs:{count:t.tmcount},nativeOn:{click:function(e){t.tmisfold=!t.tmisfold}}}):t._e(),t.tmisfold?t._e():a("su-item",{attrs:{data:t.tomorrowTasks.done,title:"content",other:"listName",activedId:t.activedId},on:{"comp-toggle":t.tmSecondComplete,"impt-toggle":t.tmSecondImportToggle,active:function(e){return t.handleActive(e)}}})],1)])]),a("su-input",{attrs:{placeholder:"添加任务","list-prop":t.taskList,"default-list":t.defaultList},on:{"select-lid":t.handleSelectLid,"keyup-enter":t.handleEnter}})],1),t.showDetail?a("su-detail",{attrs:{detail:t.oneTask},on:{close:function(e){return t.handleActive(e)},delete:t.deleteTask}}):t._e()],1)},le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-finished",staticStyle:{color:"#418669"}}),a("span",[t._v("昨天-今天-明天")])])])}],ue={data:function(){return{showDetail:!1,yesterdayTasks:{plan:[],done:[]},todayTasks:{plan:[],done:[]},tomorrowTasks:{plan:[],done:[]},activedId:"-1",oneTask:{},yisfold:!1,tisfold:!1,tmisfold:!1}},created:function(){this.loadTasks()},computed:{taskList:function(){return this.$store.state.taskList},defaultList:function(){return this.$store.state.defaultList},ycount:function(){return this.yesterdayTasks.done.length},tcount:function(){return this.todayTasks.done.length},tmcount:function(){return this.tomorrowTasks.done.length}},methods:{yFirstComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.yesterdayTasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},ySecondComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.yesterdayTasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},tFirstComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.todayTasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},tSecondComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.todayTasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},tmFirstComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tomorrowTasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},tmSecondComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tomorrowTasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},yFirstImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.yesterdayTasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},ySecondImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.yesterdayTasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},tFirstImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.todayTasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},tSecondImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.todayTasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},tmFirstImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tomorrowTasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},tmSecondImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tomorrowTasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},handleActive:function(t){t!==this.activedId?(this.showDetail=!0,this.activedId=t,this.detail()):(this.showDetail=!1,this.activedId="-1"),console.log(t)},handleSelectLid:function(t){this.lid=t,console.log(this.lid)},handleEnter:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.post("tasks/addTask",t);case 2:if(s=a.sent,n=s.data,201===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("添加任务失败！"));case 6:e.loadTasks();case 7:case"end":return a.stop()}}),a)})))()},loadTasks:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/getPpf");case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取数据失败！"));case 6:t.preProcess("yesterdayTasks",s.data.yTasks),t.preProcess("todayTasks",s.data.todayTasks),t.preProcess("tomorrowTasks",s.data.tomorrowTasks),console.log("done:: ",t.yesterdayTasks,t.todayTasks,t.tomorrowTasks);case 10:case"end":return e.stop()}}),e)})))()},preProcess:function(t,e){for(var a=e.length,s={plan:[],done:[]},n=0;n<a;n++)"0000-00-00 00:00:00"===e[n].end_time?e[n].complete=!1:e[n].complete=!0,"0"===e[n].import?e[n].import=!1:e[n].import=!0,e[n].complete?s.done.push(e[n]):s.plan.push(e[n]);this[t]=s},detail:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/detail?tid="+t.activedId);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取任务信息失败！"));case 6:t.oneTask=s.data.detail;case 7:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("tasks/delete?tid="+t);case 2:if(s=a.sent,n=s.data,204===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("删除失败！"));case 6:e.$message.success("删除成功！"),e.showDetail=!1,e.activedId="-1",e.loadTasks();case 10:case"end":return a.stop()}}),a)})))()}}},de=ue,pe=(a("d5b6"),Object(ft["a"])(de,ce,le,!1,null,"7a8e9b14",null)),me=pe.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"register_box"},[a("div",{staticClass:"avatar_box"},[a("el-avatar",{attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",size:100}})],1),t._m(0),a("el-form",{ref:"regFormRef",staticClass:"reg_form",attrs:{model:t.regForm,rules:t.regRules,"status-icon":"","label-width":"0px"}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入用户名","prefix-icon":"el-icon-user"},model:{value:t.regForm.name,callback:function(e){t.$set(t.regForm,"name",e)},expression:"regForm.name"}})],1),a("el-form-item",{attrs:{prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号","prefix-icon":"el-icon-mobile-phone",type:"text"},model:{value:t.regForm.phone,callback:function(e){t.$set(t.regForm,"phone",t._n(e))},expression:"regForm.phone"}})],1),a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱（可选）","prefix-icon":"el-icon-message",type:"email"},model:{value:t.regForm.email,callback:function(e){t.$set(t.regForm,"email",e)},expression:"regForm.email"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-lock",type:"password"},model:{value:t.regForm.password,callback:function(e){t.$set(t.regForm,"password",e)},expression:"regForm.password"}})],1),a("el-form-item",{attrs:{prop:"checkpass"}},[a("el-input",{attrs:{placeholder:"请确认密码","prefix-icon":"el-icon-magic-stick",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.regHandle(e)}},model:{value:t.regForm.checkpass,callback:function(e){t.$set(t.regForm,"checkpass",e)},expression:"regForm.checkpass"}})],1),a("el-form-item",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary"},on:{click:t.regHandle}},[t._v("SIGN UP")]),a("el-button",{attrs:{type:"info"},on:{click:t.resetHandle}},[t._v("RESET")])],1)],1),a("div",{staticClass:"login"},[a("p",[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("忘记密码")]),a("span",[t._v("|")]),a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.login}},[t._v("已有账号")])])])],1)])},he=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("p",[t._v("SIGN UP")])])}],ge={data:function(){var t=this,e=function(t,e,a){var s=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/;s.test(e)?a():a(new Error("请输入正确的手机号"))},a=function(t,e,a){e&&!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e)?a(new Error("邮箱不正确")):a()},s=function(e,a,s){a?t.regForm.password!==a?s("两次输入密码不一致!"):s():s(new Error("请再次输入密码"))};return{regForm:{name:"",password:"",checkpass:"",phone:"",email:""},regRules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:3,max:16,message:"用户名在3-16位",trigger:"blur"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{type:"number",message:"手机号必须为数字值"},{validator:e,trigger:"blur"}],email:[{validator:a,trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:3,max:16,message:"密码在3-16位",trigger:"blur"}],checkpass:[{validator:s,trigger:"blur"}]}}},methods:{regHandle:function(){var t=this;this.$refs["regFormRef"].validate(function(){var e=Object(It["a"])(regeneratorRuntime.mark((function e(a){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("reg/register",t.regForm);case 4:if(s=e.sent,n=s.data,console.log(n),201===n.meta.status){e.next=9;break}return e.abrupt("return",t.$message.error("注册失败"));case 9:t.$message.success("注册成功"),window.localStorage.setItem("token",n.data.token),t.$router.push("/todo/home");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetHandle:function(){this.$refs["regFormRef"].resetFields()},login:function(){this.$router.push("/todo/login")}}},ve=ge,ke=(a("b137"),Object(ft["a"])(ve,fe,he,!1,null,"0ecb2e9e",null)),we=ke.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"login_box"},[a("div",{staticClass:"avatar_box"},[a("el-avatar",{attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",size:100}})],1),t._m(0),a("el-form",{ref:"logFormRef",staticClass:"log_form",attrs:{model:t.logForm,rules:t.logRules,"status-icon":"","label-width":"0px"}},[a("el-form-item",{attrs:{prop:"login_name"}},[a("el-input",{attrs:{placeholder:"手机号/邮箱","prefix-icon":"el-icon-mobile-phone",type:"text"},model:{value:t.logForm.login_name,callback:function(e){t.$set(t.logForm,"login_name",e)},expression:"logForm.login_name"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-lock",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.logHandle(e)}},model:{value:t.logForm.password,callback:function(e){t.$set(t.logForm,"password",e)},expression:"logForm.password"}})],1),a("el-form-item",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary"},on:{click:t.logHandle}},[t._v("LOGIN")]),a("el-button",{attrs:{type:"info"},on:{click:t.resetHandle}},[t._v("RESET")])],1)],1),a("div",{staticClass:"sign"},[a("p",[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("忘记密码")]),a("span",[t._v("|")]),a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.register}},[t._v("没有账号")])])])],1)])},_e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("p",[t._v("LOGIN IN")])])}],ye={data:function(){var t=function(t,e,a){var s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/,r=s.test(e),i=n.test(e);i||r?a():a(new Error("不正确的邮箱或手机号"))};return{logForm:{login_name:"",password:""},logRules:{login_name:[{required:!0,message:"此项不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:3,max:16,message:"密码在3-16位",trigger:"blur"}]}}},methods:{logHandle:function(){var t=this;this.$refs["logFormRef"].validate(function(){var e=Object(It["a"])(regeneratorRuntime.mark((function e(a){var s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("reg/login",t.logForm);case 4:if(s=e.sent,n=s.data,200===n.meta.status){e.next=8;break}return e.abrupt("return",t.$message.error(n.meta.msg));case 8:if(t.$message.success("登陆成功"),window.localStorage.setItem("token",n.data.token),r=sessionStorage.getItem("current"),!r){e.next=13;break}return e.abrupt("return",t.$router.push(r));case 13:t.$router.push("/todo/home");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetHandle:function(){this.$refs["logFormRef"].resetFields()},register:function(){this.$router.push("/todo/register")}}},xe=ye,Ce=(a("a51f"),Object(ft["a"])(xe,be,_e,!1,null,"10f176c2",null)),$e=Ce.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[t._m(0),a("main",{staticClass:"main"},t._l(t.tasks,(function(e,s){return a("div",{key:s,staticClass:"item-box"},[e.count?a("su-button",{attrs:{count:e.count},nativeOn:{click:function(t){e.isfold=!e.isfold}}},[[t._v(t._s(s))]],2):t._e(),e.isfold?t._e():a("su-item",{attrs:{data:e.tasks,title:"content",other:"deadline",activedId:t.activedId},on:{"comp-toggle":function(e){return t.complete(s,e)},"impt-toggle":function(e){return t.importToggle(s,e)},active:function(e){return t.handleActive(e)}}})],1)})),0),a("su-input",{attrs:{placeholder:"添加任务","list-prop":t.taskList,"default-list":t.defaultList},on:{"select-lid":t.handleSelectLid,"keyup-enter":t.handleEnter}})],1),t.showDetail?a("su-detail",{attrs:{detail:t.oneTask},on:{close:function(e){return t.handleActive(e)},delete:t.deleteTask}}):t._e()],1)},Ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-menu",staticStyle:{color:"#c8605c"}}),a("span",[t._v("全部")])])])}],Re={data:function(){return{showDetail:!1,tasks:{},oneTask:{},activedId:"-1",isfold:!1}},created:function(){this.loadTasks()},computed:{taskList:function(){return this.$store.state.taskList},defaultList:function(){return this.$store.state.defaultList},count:function(){return this.tasks.done.length}},methods:{complete:function(t,e){var a=this;return Object(It["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:Xt.complete.call(a,a.tasks[t].tasks,e,a.loadTasks);case 1:case"end":return s.stop()}}),s)})))()},importToggle:function(t,e){var a=this;return Object(It["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:Xt.importToggle.call(a,a.tasks[t].tasks,e,a.loadTasks);case 1:case"end":return s.stop()}}),s)})))()},handleActive:function(t){t!==this.activedId?(this.showDetail=!0,this.activedId=t,this.detail()):(this.showDetail=!1,this.activedId="-1"),console.log(t)},handleSelectLid:function(t){this.lid=t,console.log(this.lid)},handleEnter:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.post("tasks/addTask",t);case 2:if(s=a.sent,n=s.data,201===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("添加任务失败！"));case 6:e.loadTasks();case 7:case"end":return a.stop()}}),a)})))()},loadTasks:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/getAll");case 2:if(a=e.sent,s=a.data,console.log("enter",s),200===s.meta.status){e.next=7;break}return e.abrupt("return",t.$message.error("获取数据失败！"));case 7:t.tasks=s.data.tasks,console.log("tasks::",t.tasks);case 9:case"end":return e.stop()}}),e)})))()},detail:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/detail?tid="+t.activedId);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取任务信息失败！"));case 6:t.oneTask=s.data.detail;case 7:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("tasks/delete?tid="+t);case 2:if(s=a.sent,n=s.data,204===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("删除失败！"));case 6:e.$message.success("删除成功！"),e.showDetail=!1,e.activedId="-1",e.loadTasks();case 10:case"end":return a.stop()}}),a)})))()}}},Se=Re,Oe=(a("2e05"),Object(ft["a"])(Se,Te,Ie,!1,null,"b932c3fc",null)),Le=Oe.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[t._m(0),a("main",{staticClass:"main"},t._l(t.tasks,(function(e,s){return a("div",{key:s,staticClass:"item-box"},[e.count?a("su-button",{attrs:{count:e.count},nativeOn:{click:function(t){e.isfold=!e.isfold}}},[[t._v(t._s(s))]],2):t._e(),e.isfold?t._e():a("su-item",{attrs:{data:e.tasks,title:"content",other:"end_time",activedId:t.activedId},on:{"comp-toggle":function(e){return t.complete(s,e)},"impt-toggle":function(e){return t.importToggle(s,e)},active:function(e){return t.handleActive(e)}}})],1)})),0),a("su-input",{attrs:{placeholder:"添加任务","list-prop":t.taskList,"default-list":t.defaultList},on:{"select-lid":t.handleSelectLid,"keyup-enter":t.handleEnter}})],1),t.showDetail?a("su-detail",{attrs:{detail:t.oneTask},on:{close:function(e){return t.handleActive(e)},delete:t.deleteTask}}):t._e()],1)},De=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#1e704d"}}),a("span",[t._v("已完成")])])])}],Ee={data:function(){return{showDetail:!1,tasks:{},activedId:"-1",oneTask:{},isfold:!1}},created:function(){this.loadTasks()},computed:{taskList:function(){return this.$store.state.taskList},defaultList:function(){return this.$store.state.defaultList},count:function(){return this.tasks.done.length}},methods:{complete:function(t,e){var a=this;return Object(It["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:Xt.complete.call(a,a.tasks[t].tasks,e,a.loadTasks);case 1:case"end":return s.stop()}}),s)})))()},importToggle:function(t,e){var a=this;return Object(It["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:Xt.importToggle.call(a,a.tasks[t].tasks,e,a.loadTasks);case 1:case"end":return s.stop()}}),s)})))()},handleActive:function(t){t!==this.activedId?(this.showDetail=!0,this.activedId=t,this.detail()):(this.showDetail=!1,this.activedId="-1"),console.log(t)},handleSelectLid:function(t){this.lid=t,console.log(this.lid)},handleEnter:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.post("tasks/addTask",t);case 2:if(s=a.sent,n=s.data,201===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("添加任务失败！"));case 6:e.loadTasks();case 7:case"end":return a.stop()}}),a)})))()},loadTasks:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/getComplete");case 2:if(a=e.sent,s=a.data,console.log("enter",s),200===s.meta.status){e.next=7;break}return e.abrupt("return",t.$message.error("获取数据失败！"));case 7:t.tasks=s.data.tasks,console.log("tasks::",t.tasks);case 9:case"end":return e.stop()}}),e)})))()},detail:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/detail?tid="+t.activedId);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取任务信息失败！"));case 6:t.oneTask=s.data.detail;case 7:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("tasks/delete?tid="+t);case 2:if(s=a.sent,n=s.data,204===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("删除失败！"));case 6:e.$message.success("删除成功！"),e.showDetail=!1,e.activedId="-1",e.loadTasks();case 10:case"end":return a.stop()}}),a)})))()}}},Pe=Ee,Fe=(a("d084"),Object(ft["a"])(Pe,je,De,!1,null,"736ea047",null)),qe=Fe.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[t._m(0),a("main",{staticClass:"main"},t._l(t.tasks,(function(e,s){return a("div",{key:s,staticClass:"item-box"},[e.count?a("su-button",{attrs:{count:e.count},nativeOn:{click:function(t){e.isfold=!e.isfold}}},[[t._v(t._s(s))]],2):t._e(),e.isfold?t._e():a("su-item",{attrs:{data:e.tasks,title:"content",other:"deadline",activedId:t.activedId},on:{"comp-toggle":function(e){return t.complete(s,e)},"impt-toggle":function(e){return t.importToggle(s,e)},active:function(e){return t.handleActive(e)}}})],1)})),0),a("su-input",{attrs:{placeholder:"添加任务","list-prop":t.taskList,"default-list":t.defaultList},on:{"select-lid":t.handleSelectLid,"keyup-enter":t.handleEnter}})],1),t.showDetail?a("su-detail",{attrs:{detail:t.oneTask},on:{close:function(e){return t.handleActive(e)},delete:t.deleteTask}}):t._e()],1)},Ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"#f00"}}),a("span",[t._v("逾期未完成")])])])}],Me={data:function(){return{showDetail:!1,tasks:{},activedId:"-1",oneTask:{},isfold:!1}},created:function(){this.loadTasks()},computed:{taskList:function(){return this.$store.state.taskList},defaultList:function(){return this.$store.state.defaultList},count:function(){return this.tasks.done.length}},methods:{complete:function(t,e){var a=this;return Object(It["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:Xt.complete.call(a,a.tasks[t].tasks,e,a.loadTasks);case 1:case"end":return s.stop()}}),s)})))()},importToggle:function(t,e){var a=this;return Object(It["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:Xt.importToggle.call(a,a.tasks[t].tasks,e,a.loadTasks);case 1:case"end":return s.stop()}}),s)})))()},handleActive:function(t){t!==this.activedId?(this.showDetail=!0,this.activedId=t,this.detail()):(this.showDetail=!1,this.activedId="-1"),console.log(t)},handleSelectLid:function(t){this.lid=t,console.log(this.lid)},handleEnter:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.post("tasks/addTask",t);case 2:if(s=a.sent,n=s.data,201===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("添加任务失败！"));case 6:e.loadTasks();case 7:case"end":return a.stop()}}),a)})))()},loadTasks:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/getOverdue");case 2:if(a=e.sent,s=a.data,console.log("enter",s),200===s.meta.status){e.next=7;break}return e.abrupt("return",t.$message.error("获取数据失败！"));case 7:t.tasks=s.data.tasks,console.log("tasks::",t.tasks);case 9:case"end":return e.stop()}}),e)})))()},detail:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/detail?tid="+t.activedId);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取任务信息失败！"));case 6:t.oneTask=s.data.detail;case 7:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("tasks/delete?tid="+t);case 2:if(s=a.sent,n=s.data,204===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("删除失败！"));case 6:e.$message.success("删除成功！"),e.showDetail=!1,e.activedId="-1",e.loadTasks();case 10:case"end":return a.stop()}}),a)})))()}}},He=Me,Ye=(a("c16d"),Object(ft["a"])(He,Ne,Ae,!1,null,"651504d4",null)),ze=Ye.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[a("div",{staticClass:"header"},[a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-star-off",staticStyle:{color:"#b04365"}}),a("span",[t._v(t._s(t.list.listName))])])]),a("main",{staticClass:"main"},[a("su-item",{attrs:{data:t.tasks.plan,title:"content",other:"found_time","actived-id":t.activedId},on:{"comp-toggle":t.firstComplete,"impt-toggle":t.firstImportToggle,active:function(e){return t.handleActive(e)}}}),t.count?a("su-button",{attrs:{count:t.count},nativeOn:{click:function(e){t.isfold=!t.isfold}}}):t._e(),t.isfold?t._e():a("su-item",{attrs:{data:t.tasks.done,title:"content",other:"end_time","actived-id":t.activedId},on:{"comp-toggle":t.secondComplete,"impt-toggle":t.secondImportToggle,active:function(e){return t.handleActive(e)}}})],1),a("el-pagination",{attrs:{"current-page":t.queryInfo.pagenum,"page-sizes":[10,15,20,50,100],"page-size":t.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("su-input",{attrs:{placeholder:"添加任务","list-prop":t.taskList,"default-list":t.defaultList},on:{"select-lid":t.handleSelectLid,"keyup-enter":t.handleEnter}})],1),t.showDetail?a("su-detail",{attrs:{detail:t.activedItem},on:{close:function(e){return t.handleActive(e)},delete:t.deleteTask}}):t._e()],1)},Ve=[],Be=(a("c975"),a("d81d"),{data:function(){return{showDetail:!1,tasks:{plan:[],done:[]},activedId:"-1",activedItem:{},isfold:!1,list:{},currentLid:"",queryInfo:{pagenum:1,pagesize:10},total:0}},created:function(){this.getList()},mounted:function(){this.loadTasks()},computed:{taskList:function(){return this.$store.state.taskList},defaultList:function(){return this.$store.state.defaultList},count:function(){return this.tasks.done.length}},watch:{$route:function(){this.queryInfo.pagenum=1,this.queryInfo.pagesize=10,this.showDetail=!1,this.activedId="-1",this.getList(),this.loadTasks()},taskList:function(){this.getList(),this.loadTasks()}},methods:{firstComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},secondComplete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},firstImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tasks.plan,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},secondImportToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tasks.done,t,e.loadTasks);case 1:case"end":return a.stop()}}),a)})))()},handleActive:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t!==e.activedId?(e.showDetail=!0,e.activedId=t,e.detail()):(e.showDetail=!1,e.activedId="-1");case 1:case"end":return a.stop()}}),a)})))()},handleSelectLid:function(t){this.lid=t,console.log(this.lid)},handleEnter:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.post("tasks/addTask",t);case 2:if(s=a.sent,n=s.data,201===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("添加任务失败！"));case 6:e.loadTasks();case 7:case"end":return a.stop()}}),a)})))()},loadTasks:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("lid"in t.queryInfo){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.get("tasks/listShow",{params:t.queryInfo});case 4:if(a=e.sent,s=a.data,200===s.meta.status){e.next=8;break}return e.abrupt("return",t.$message.error("获取数据失败！"));case 8:for(t.total=Number(s.data.total),n=s.data.tasks,r=n.length,i={plan:[],done:[]},o=0;o<r;o++)n[o].complete?i.done.push(n[o]):i.plan.push(n[o]);t.tasks=i,console.log(t.tasks);case 13:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.queryInfo.pagesize=t,this.loadTasks()},handleCurrentChange:function(t){this.queryInfo.pagenum=t,this.loadTasks()},getList:function(){if(this.$store.state.taskList){var t=this.currentLid=this.$route.params.lid,e=this.$store.state.taskList.map((function(t){return t.lid}));if(e.push("all_001"),-1===e.indexOf(t))return this.$router.push("/todo/lists/all_001");this.queryInfo.lid=this.currentLid,this.list="all_001"===t?this.$store.state.defaultList:this.$store.state.taskList.filter((function(e){return e.lid===t}))[0]}},detail:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/detail?tid="+t.activedId);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取任务信息失败！"));case 6:t.activedItem=s.data.detail;case 7:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("tasks/delete?tid="+t);case 2:if(s=a.sent,n=s.data,204===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("删除失败！"));case 6:e.$message.success("删除成功！"),e.showDetail=!1,e.activedId="-1",e.loadTasks();case 10:case"end":return a.stop()}}),a)})))()}}}),Ze=Be,Ge=(a("17d9"),Object(ft["a"])(Ze,Ue,Ve,!1,null,"b1686abc",null)),Je=Ge.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"search-box"},[a("div",{staticClass:"search-input"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getSearchResult(e)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getSearchResult},model:{value:t.queryInfo.select,callback:function(e){t.$set(t.queryInfo,"select",e)},expression:"queryInfo.select"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._l(t.options,(function(t){return a("el-option",{key:t.lid,attrs:{label:t.listName,value:t.lid}})}))],2)]},proxy:!0},{key:"append",fn:function(){return[a("el-button",{attrs:{icon:"el-icon-search"},on:{click:t.getSearchResult}})]},proxy:!0}]),model:{value:t.queryInfo.query,callback:function(e){t.$set(t.queryInfo,"query",e)},expression:"queryInfo.query"}})],1),a("su-item",{attrs:{data:t.tasks,title:"content",other:"listName","actived-id":t.activedId},on:{active:function(e){return t.handleActive(e)},"comp-toggle":t.complete,"impt-toggle":t.importToggle}})],1),t.showDetail?a("su-detail",{attrs:{detail:t.oneTask},on:{close:function(e){return t.handleActive(e)},delete:t.deleteTask}}):t._e()],1)},Xe=[],Qe={data:function(){return{queryInfo:{query:"",select:""},tasks:[],showDetail:!1,oneTask:{},activedId:"-1"}},computed:{options:function(){if(this.$store.state.taskList){var t=JSON.parse(JSON.stringify(this.$store.state.taskList));return t.unshift(this.$store.state.defaultList),t}return[]}},methods:{getSearchResult:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Search:",t.queryInfo),e.next=3,t.$http.get("tasks/search",{params:t.queryInfo});case 3:if(a=e.sent,s=a.data,200===s.meta.status){e.next=7;break}return e.abrupt("return",t.$message.error("搜索出错"));case 7:t.tasks=s.data.tasks;case 8:case"end":return e.stop()}}),e)})))()},handleActive:function(t){t!==this.activedId?(this.showDetail=!0,this.activedId=t,this.detail()):(this.showDetail=!1,this.activedId="-1"),console.log(t)},complete:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.complete.call(e,e.tasks,t,e.getSearchResult);case 1:case"end":return a.stop()}}),a)})))()},importToggle:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Xt.importToggle.call(e,e.tasks,t,e.getSearchResult);case 1:case"end":return a.stop()}}),a)})))()},detail:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/detail?tid="+t.activedId);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取任务信息失败！"));case 6:t.oneTask=s.data.detail;case 7:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("tasks/delete?tid="+t);case 2:if(s=a.sent,n=s.data,204===n.meta.status){a.next=6;break}return a.abrupt("return",e.$message.error("删除失败！"));case 6:e.$message.success("删除成功！"),e.showDetail=!1,e.activedId="-1",e.getSearchResult();case 10:case"end":return a.stop()}}),a)})))()}}},We=Qe,ta=(a("1b16"),Object(ft["a"])(We,Ke,Xe,!1,null,"9bdf4646",null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alter-box"},[t._m(0),a("div",{staticClass:"alter-main"},[a("p",{staticClass:"tip-text"},[t._v("请正确填写您要修改的部分，并提交表单。")]),a("el-form",{ref:"alterForm",staticClass:"alter-userinfo-form",attrs:{model:t.queryInfo,rules:t.rules,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请填写用户名，1-12 位"},model:{value:t.queryInfo.name,callback:function(e){t.$set(t.queryInfo,"name",e)},expression:"queryInfo.name"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.queryInfo.email,callback:function(e){t.$set(t.queryInfo,"email",e)},expression:"queryInfo.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.queryInfo.phone,callback:function(e){t.$set(t.queryInfo,"phone",e)},expression:"queryInfo.phone"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPasw"}},[a("el-input",{attrs:{"show-password":"",placeholder:"请输入新密码，6-16 位"},model:{value:t.queryInfo.newPasw,callback:function(e){t.$set(t.queryInfo,"newPasw",e)},expression:"queryInfo.newPasw"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"checkNewPasw"}},[a("el-input",{attrs:{"show-password":"",placeholder:"请再次输入新密码，确保两次输入相同"},model:{value:t.queryInfo.checkNewPasw,callback:function(e){t.$set(t.queryInfo,"checkNewPasw",e)},expression:"queryInfo.checkNewPasw"}})],1),a("el-form-item",{attrs:{label:"旧密码",prop:"oldPasw"}},[a("el-input",{attrs:{"show-password":"",placeholder:"请输入旧密码，用于验证您的身份（必填）"},model:{value:t.queryInfo.oldPasw,callback:function(e){t.$set(t.queryInfo,"oldPasw",e)},expression:"queryInfo.oldPasw"}})],1),a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadURL,headers:t.headers,"show-file-list":!0,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.queryInfo.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.queryInfo.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("alterForm")}}},[t._v("提交")]),a("el-button",{on:{click:function(e){return t.resetForm("alterForm")}}},[t._v("重置")])],1)],1)],1)])},sa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alter-title"},[a("i",{staticClass:"el-icon-plus"}),a("span",{staticClass:"title"},[t._v("修改信息")])])}],na=(a("4160"),a("b64b"),a("159b"),{data:function(){var t=this,e=function(t,e,a){if(e&&e.length>12)return a(new Error("用户名不要超过 12 位"));a()},a=function(t,e,a){if(e){var s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!s.test(e))return a(new Error("请输入合法的邮箱"))}a()},s=function(t,e,a){if(e){var s=new RegExp(/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/);if(!s.test(e))return a(new Error("请输入合法的大陆手机号"))}a()},n=function(e,a,s){return t.$refs.alterForm.validateField("checkNewPasw"),s()},r=function(e,a,s){a?t.queryInfo.newPasw?a!==t.queryInfo.newPasw?s(new Error("两次密码输入不一致，请检查")):s():s(new Error("若要修改密码，请先填写上一项再填此项")):t.queryInfo.newPasw?s(new Error("请再次输入密码")):s()};return{queryInfo:{name:"",email:"",phone:"",newPasw:"",checkNewPasw:"",oldPasw:"",imageUrl:"",temp_path:""},rules:{name:[{validator:e,trigger:"blur"}],email:[{validator:a,trigger:"blur"}],phone:[{validator:s,trigger:"blur"}],newPasw:[{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"},{validator:n,trigger:"blur"}],checkNewPasw:[{validator:r,trigger:"change"}],oldPasw:[{required:!0,message:"请填写旧密码，用于验证您的身份",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}]},uploadURL:"http://localhost/todo/index.php/susu/upload/avatar",headers:{Authorization:window.localStorage.getItem("token")}}},methods:{resetForm:function(t){this.$refs[t].resetFields()},submitForm:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$refs[t].validate(function(){var t=Object(It["a"])(regeneratorRuntime.mark((function t(a){var s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=18;break}if(s={},Object.keys(e.queryInfo).forEach((function(t){e.queryInfo[t]&&(s[t]=e.queryInfo[t])})),Object.keys(s).length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.$http.post("person/alter",s);case 7:if(n=t.sent,r=n.data,403!==r.meta.status){t.next=11;break}return t.abrupt("return",e.$message.error(r.meta.msg));case 11:if(200===r.meta.status){t.next=13;break}return t.abrupt("return",e.$message.error(r.meta.msg));case 13:e.$message.success("修改信息成功！"),location.reload(),console.log(e.queryInfo),t.next=19;break;case 18:console.log("error submit");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},handleAvatarSuccess:function(t){this.queryInfo.imageUrl=t.data.imageURL,this.queryInfo.temp_path=t.data.temp_path},beforeAvatarUpload:function(t){var e=t.type,a=["image/jpeg","image/jpg","image/pjpeg","image/png","image/x-png"],s=-1!==a.indexOf(e),n=t.size/1024/1024<2;return s||this.$message.error("请上传 JPG、PNG 格式的图片!"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),s&&n}}}),ra=na,ia=(a("9c0c1"),Object(ft["a"])(ra,aa,sa,!1,null,"296ef5e4",null)),oa=ia.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"welcome"},[a("p",{staticClass:"greet"},[t._v("greet.")]),a("div",{staticClass:"config-box"},[a("div",{staticClass:"config-1"},[a("div",{staticClass:"imgs"},[a("el-image",{attrs:{src:t.images.conf1,fit:"contain"}}),a("el-image",{attrs:{src:t.images.conf2,fit:"contain"}})],1),a("div",{staticClass:"text"},[a("p",{staticClass:"first"},[t._v("数据库连接配置参数")]),a("p",{staticClass:"sec"},[t._v("位于图一的 config.php 文件中")]),a("p",{staticClass:"third"},[t._v("具体参数如图二所示，可按实际情况修改")]),a("div",{staticClass:"route-btns"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/todo/home")}}},[t._v("去 Home")]),a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.$router.push("/todo/login")}}},[t._v("去登录")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$router.push("/")}}},[t._v("未知的首页")]),a("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.$router.push("/todo")}}},[t._v("未知的二级首页")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.$router.push("/todo/alter")}}},[t._v("危险按钮")])],1),t._m(0)])])])])},la=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nonsense"},[a("p",{staticClass:"first"},[t._v("就不写好看的页面了")]),a("p",{staticClass:"sec"},[t._v("反正也不丑")]),a("p",{staticClass:"third"},[t._v("天生骨相好，越看越好看。")])])}],ua=a("789b"),da=a.n(ua),pa=a("c25f"),ma=a.n(pa),fa={data:function(){return{images:{conf1:da.a,conf2:ma.a}}}},ha=fa,ga=(a("6234"),Object(ft["a"])(ha,ca,la,!1,null,"6118e45e",null)),va=ga.exports;dt["default"].use(kt["a"]);var ka=[{path:"/",name:"root",component:qt},{path:"/todo",name:"Test",component:Ct},{path:"/todo/home",component:Lt,redirect:"/todo/myday",children:[{path:"/todo/myday",component:ee},{path:"/todo/import",component:oe},{path:"/todo/ppf",component:me},{path:"/todo/search",component:ea},{path:"/todo/all",component:Le},{path:"/todo/completed",component:qe},{path:"/todo/overdue",component:ze},{path:"/todo/lists/:lid",component:Je},{path:"/todo/alter",component:oa}]},{path:"/todo/register",component:we},{path:"/todo/login",component:$e},{path:"/todo/welcome",component:va},{path:"*",component:zt}],wa=new kt["a"]({mode:"history",routes:ka});wa.beforeEach((function(t,e,a){if("/todo/login"===t.path||"/todo/register"===t.path||"/todo"===t.path)return a();window.sessionStorage.setItem("current",t.path);var s=window.localStorage.getItem("token");if(!s)return dt["default"].prototype.$message({message:"未登录",type:"warning"}),a("/todo/login");document.title=t.meta.title?t.meta.title:"SuSu To-Do",a()}));var ba=wa,_a=a("2f62");dt["default"].use(_a["a"]);var ya=new _a["a"].Store({state:{taskList:null,defaultList:{lid:"all_001",listName:"任务"}},mutations:{},actions:{},modules:{}}),xa=(a("0fae"),a("dd8b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"su-item"},t._l(t.data,(function(e,s){return a("div",{key:e.tid,staticClass:"task-item",class:{"active-bg":e.tid===t.activedId},on:{click:function(a){return t.active(e.tid)}}},[a("div",{staticClass:"radio",on:{click:function(a){return a.stopPropagation(),t.completeToggle(s,e.complete)}}},[a("el-button",{class:[e.complete?"trim-padding":""],attrs:{size:"mini",circle:""}},[a("i",{class:[e.complete?"el-icon-success":""]})])],1),a("div",{staticClass:"content"},[a("h2",{staticClass:"item_title",class:{"delete-line":e.complete}},[t._v(" "+t._s(e[t.title])+" ")]),a("p",{staticClass:"task"},[t._v(t._s(e[t.other]))])]),a("div",{staticClass:"import",on:{click:function(e){return e.stopPropagation(),t.importToggle(s)}}},[a("i",{class:[e.import?"el-icon-star-on":"el-icon-star-off"]})])])})),0)}),Ca=[],$a={data:function(){return{}},props:["data","title","other","activedId"],watch:{},methods:{completeToggle:function(t,e){this.play(t,e),this.$emit("comp-toggle",t)},importToggle:function(t){this.$emit("impt-toggle",t)},active:function(t){return this.$emit("active",t)},play:function(t,e){if(!e){var a=new Audio("http://localhost/todo/application/views/complete.wav");a.src="http://localhost/todo/application/views/complete.wav",a.load();var s=a.play();s&&s.then((function(){console.log("Audio::done")})).catch((function(t){console.log("Audio-Error: ",t)}))}}}},Ta=$a,Ia=(a("b826"),Object(ft["a"])(Ta,xa,Ca,!1,null,"1c998092",null)),Ra=Ia.exports,Sa={install:function(t){t.component("SuItem",Ra)}},Oa=Sa,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"su-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.textValue,expression:"textValue"}],staticClass:"input",attrs:{type:"text",placeholder:t.reallyPlaceholder},domProps:{value:t.textValue},on:{focus:function(e){t.isfocus=!0,t.reallyPlaceholder=""},blur:function(e){t.isfocus=!1,t.reallyPlaceholder=t.placeholder},keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter(e)},t.handleKeyup],input:function(e){e.target.composing||(t.textValue=e.target.value)}}}),a("span",{staticClass:"prefix"},[a("i",{class:[t.isfocus?"inputting":"el-icon-plus"]})]),a("span",{staticClass:"suffix",style:[t.textValue?"":{display:"none"}]},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"展示/收起所有清单",placement:"top"}},[a("span",{staticClass:"one",on:{click:t.handleListShow}},[a("i",{staticClass:"el-icon-s-home"}),t._v(t._s(t.activedListName)+" ")])]),a("el-tooltip",{attrs:{effect:"dark",content:"选择日期",placement:"top"}},[a("span",{staticClass:"two",on:{click:t.handleDateShow}},[a("i",{staticClass:"el-icon-date"})])])],1),a("el-card",{staticClass:"list-box-card",style:[t.isShowList?{display:"block"}:{display:"none"}]},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"item",on:{click:function(a){return t.handleListSelect(e)}}},[a("i",{staticClass:"el-icon-s-order"}),a("span",[t._v(t._s(e.listName))])])})),0),a("div",{staticClass:"date-time-picker",style:[t.isShowDate?{display:"flex"}:{display:"none"}]},[a("el-card",{staticClass:"start-card",scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"clearfix"},[a("span",[t._v("开始时间")])])]},proxy:!0}])},[a("div",{staticClass:"date-item",on:{click:function(e){return t.handleStartDatePick(0)}}},[a("i",{staticClass:"el-icon-sunny"}),a("span",[t._v("现在")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",0)))])]),a("div",{staticClass:"date-item",on:{click:function(e){return t.handleStartDatePick(1)}}},[a("i",{staticClass:"el-icon-arrow-right"}),a("span",[t._v("明天")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",1)))])]),a("div",{staticClass:"date-item",on:{click:function(e){return t.handleStartDatePick(2)}}},[a("i",{staticClass:"el-icon-d-arrow-right"}),a("span",[t._v("下周")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",11)))])]),a("div",{staticClass:"date-item"},[a("i",{staticClass:"el-icon-date"}),a("span",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始日期时间"},on:{change:t.handleStartDatePick},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}})],1)])]),a("el-card",{staticClass:"dead-card",scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"clearfix"},[a("span",[t._v("截止时间")])])]},proxy:!0}])},[a("div",{staticClass:"date-item",on:{click:function(e){return t.handleDeadlineDatePick(0)}}},[a("i",{staticClass:"el-icon-sunny"}),a("span",[t._v("今天")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",0)))])]),a("div",{staticClass:"date-item",on:{click:function(e){return t.handleDeadlineDatePick(1)}}},[a("i",{staticClass:"el-icon-arrow-right"}),a("span",[t._v("明天")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",1)))])]),a("div",{staticClass:"date-item",on:{click:function(e){return t.handleDeadlineDatePick(2)}}},[a("i",{staticClass:"el-icon-d-arrow-right"}),a("span",[t._v("下周")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",11)))])]),a("div",{staticClass:"date-item"},[a("i",{staticClass:"el-icon-date"}),a("span",[a("el-date-picker",{attrs:{type:"datetime","prefix-icon":"",placeholder:"选择截止日期时间"},on:{change:t.handleDeadlineDatePick},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}})],1)])])],1)],1)},ja=[],Da={props:["listProp","placeholder","value","defaultList"],data:function(){return{textValue:"",reallyPlaceholder:this.placeholder,isfocus:!1,isShowList:!1,list:null,activedListName:this.defaultList.listName,activedLid:this.defaultList.lid,isShowDate:!1,start_time:null,deadline:null}},created:function(){this.listProp&&(this.list=this.listProp.map((function(t){return t})),this.list.unshift(this.defaultList))},watch:{listProp:function(){this.list=this.listProp.map((function(t){return t})),this.list.unshift(this.defaultList)}},methods:{handleListShow:function(){this.isShowList=!this.isShowList,this.isShowDate=!1},handleDateShow:function(){this.isShowDate=!this.isShowDate,this.isShowList=!1},handleListSelect:function(t){this.activedListName=t.listName,this.activedLid=t.lid,this.$emit("select-lid",t.lid),this.isShowList=!this.isShowList},handleStartDatePick:function(t){var e=new Date;switch(t){case 0:this.start_time=e;break;case 1:this.start_time=e.setDate(e.getDate()+1);break;case 2:var a=e.getDay();this.start_time=e.setDate(e.getDate()+7-a);break;default:break}},handleDeadlineDatePick:function(t){var e=this,a=new Date;switch(t){case 0:this.deadline=a;break;case 1:this.deadline=a.setDate(a.getDate()+1);break;case 2:var s=a.getDay();this.deadline=a.setDate(a.getDate()+7-s);break;default:break}setTimeout((function(){return e.isShowDate=!1}),500)},handleEnter:function(){var t={lid:this.activedLid,content:this.textValue,end_time:"0000-00-00 00:00:00",found_time:Xt.dateFormat("YYYY-mm-dd HH:MM:SS",new Date),start_time:this.start_time?Xt.dateFormat("YYYY-mm-dd HH:MM:SS",new Date(this.start_time)):Xt.dateFormat("YYYY-mm-dd HH:MM:SS",new Date),deadline:this.deadline?Xt.dateFormat("YYYY-mm-dd HH:MM:SS",new Date(this.deadline)):Xt.dateFormat("YYYY-mm-dd",new Date((new Date).setDate((new Date).getDate()+1)))};console.log(t),this.$emit("keyup-enter",t),this.textValue=""},handleKeyup:function(){this.textValue||(this.isShowList=!1,this.isShowDate=!1)}}},Ea=Da,Pa=(a("134d"),Object(ft["a"])(Ea,La,ja,!1,null,"7f688f8a",null)),Fa=Pa.exports,qa={install:function(t){t.component("SuInput",Fa)}},Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"su-button",on:{click:function(e){t.isfold=!t.isfold}}},[a("span",{staticClass:"prefix",class:[t.isfold?"rotate":""]},[a("i",{staticClass:"el-icon-arrow-down"})]),a("p",{staticClass:"content"},[t._t("default",[t._v("已完成")])],2),a("span",{staticClass:"suffix"},[t._v(t._s(t.count))])])},Aa=[],Ma={props:["count"],data:function(){return{isfold:!1}}},Ha=Ma,Ya=(a("9242"),Object(ft["a"])(Ha,Na,Aa,!1,null,"4b530490",null)),za=Ya.exports,Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"su-detail"},[a("h3",{staticClass:"detail-box-title"},[t._v("我不是标题")]),a("div",{staticClass:"content"},[a("div",{staticClass:"item"},[a("p",{staticClass:"label"},[t._v("内容:")]),a("p",{staticClass:"value"},[t._m(0),t._v(t._s(t.detail.content)+" ")])]),a("div",{staticClass:"item"},[a("p",{staticClass:"label"},[t._v("重要性:")]),a("p",{staticClass:"value"},[a("span",[a("i",{class:{"el-icon-star-on":t.detail.import,"important-color":t.detail.import,"el-icon-star-off":!t.detail.import,umimpt:!t.detail.import}})]),t._v(t._s(t.detail.import?"重要":"不重要")+" ")])]),a("div",{staticClass:"item"},[a("p",{staticClass:"label"},[t._v("我的一天:")]),a("p",{staticClass:"value"},[t._m(1),t._v(t._s(t.detail.myday?"是":"不是")+" ")])]),a("div",{staticClass:"item"},[a("p",{staticClass:"label"},[t._v("状态:")]),a("p",{staticClass:"value"},[a("span",[a("i",{class:[t.detail.complete?"el-icon-circle-check":"el-icon-circle-close"]})]),t._v(t._s(t.detail.complete?"已完成":"未完成")+" ")])]),a("div",{staticClass:"item"},[a("p",{staticClass:"label"},[t._v("开始时间:")]),a("p",{staticClass:"value"},[t._m(2),t._v(t._s(t.detail.start_time)+" ")])]),a("div",{staticClass:"item"},[a("p",{staticClass:"label"},[t._v("创建时间:")]),a("p",{staticClass:"value"},[t._m(3),t._v(t._s(t.detail.found_time)+" ")])]),a("div",{staticClass:"item deadline"},[a("p",{staticClass:"label"},[t._v("截止时间:")]),a("p",{staticClass:"value"},[t._m(4),t._v(t._s(t.detail.deadline)+" ")])]),t.detail.complete?a("div",{staticClass:"item"},[a("p",{staticClass:"label"},[t._v("完成时间:")]),a("p",{staticClass:"value"},[t._m(5),t._v(t._s(t.detail.end_time)+" ")])]):t._e()]),t._m(6),a("div",{staticClass:"delete-bar"},[a("div",{staticClass:"close",on:{click:t.close}},[a("i",{staticClass:"el-icon-arrow-right"})]),a("div",{staticClass:"delete",on:{click:t.deleteTask}},[a("i",{staticClass:"el-icon-delete"})])])])},Va=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"el-icon-edit"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"el-icon-sunny"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"el-icon-video-play"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"el-icon-s-flag"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"el-icon-video-pause"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"el-icon-refresh"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps"},[a("p",[t._v("步骤功能暂未上线")])])}],Ba={props:{detail:{type:Object,required:!0}},data:function(){return{}},methods:{close:function(){this.$emit("close",this.detail.tid)},deleteTask:function(){var t=this;this.$Msg.confirm("将永久删除 ".concat(this.detail.content),"删除任务",{dconfirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$emit("delete",t.detail.tid)})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},Za=Ba,Ga=(a("5159"),Object(ft["a"])(Za,Ua,Va,!1,null,"8df0c898",null)),Ja=Ga.exports,Ka=a("5976"),Xa=a.n(Ka);Xa.a.defaults.baseURL="http://localhost/todo/index.php/susu/",Xa.a.interceptors.request.use((function(t){return t.headers.Authorization=window.localStorage.getItem("token"),t})),dt["default"].prototype.$http=Xa.a,dt["default"].prototype.$message=ut.a,dt["default"].prototype.$Msg=ct.a,dt["default"].config.productionTip=!1,dt["default"].use(it.a),dt["default"].use(nt.a),dt["default"].use(at.a),dt["default"].use(tt.a),dt["default"].use(Q.a),dt["default"].use(K.a),dt["default"].use(G.a),dt["default"].use(B.a),dt["default"].use(U.a),dt["default"].use(Y.a),dt["default"].use(M.a),dt["default"].use(N.a),dt["default"].use(F.a),dt["default"].use(E.a),dt["default"].use(j.a),dt["default"].use(O.a),dt["default"].use(R.a),dt["default"].use(T.a),dt["default"].use(C.a),dt["default"].use(y.a),dt["default"].use(Oa),dt["default"].use(qa),dt["default"].use(b.a),dt["default"].use(k.a),dt["default"].use(g.a),dt["default"].use(f.a),dt["default"].use(p.a),dt["default"].use(u.a),dt["default"].use(c.a),dt["default"].use(i.a),dt["default"].use(n.a),dt["default"].component("SuButton",za),dt["default"].component("SuDetail",Ja),Xa.a.interceptors.response.use((function(t){var e=t.data,a=Number.parseInt(e.meta.status/100);return 2===a&&window.localStorage.setItem("token",e.data.token),401===e.meta.status&&"/todo/login"!==ba.currentRoute.fullPath&&(ut()({message:"登录失效",type:"warning"}),localStorage.removeItem("token"),ba.push("/todo/login")),t})),dt["default"].filter("current",(function(){var t=new Date,e=["日","一","二","三","四","五","六"],a=(t.getMonth()+1+"").padStart(2,"0"),s=t.getDate(),n=t.getDay();return"".concat(a,"月").concat(s,"日，星期").concat(e[n])})),dt["default"].filter("week",(function(){var t=new Date,e=["日","一","二","三","四","五","六"],a=t.getDay();if(11===arguments[1])return"周一";var s=(a+arguments[1])%7;return"周".concat(e[s])})),new dt["default"]({router:ba,store:ya,render:function(t){return t(vt)}}).$mount("#app")},5863:function(t,e,a){},6234:function(t,e,a){"use strict";var s=a("98b2"),n=a.n(s);n.a},"6d3b":function(t,e,a){"use strict";var s=a("a0e6"),n=a.n(s);n.a},"789b":function(t,e,a){t.exports=a.p+"img/config.db91fb53.png"},"877f":function(t,e,a){},"8d5c":function(t,e,a){},9242:function(t,e,a){"use strict";var s=a("cebd"),n=a.n(s);n.a},"98b2":function(t,e,a){},"9c0c1":function(t,e,a){"use strict";var s=a("4dca"),n=a.n(s);n.a},a0e6:function(t,e,a){},a37e:function(t,e,a){"use strict";var s=a("b877"),n=a.n(s);n.a},a4d2:function(t,e,a){},a51f:function(t,e,a){"use strict";var s=a("20bc"),n=a.n(s);n.a},a8f2:function(t,e,a){},b137:function(t,e,a){"use strict";var s=a("a4d2"),n=a.n(s);n.a},b826:function(t,e,a){"use strict";var s=a("f408"),n=a.n(s);n.a},b877:function(t,e,a){},c16d:function(t,e,a){"use strict";var s=a("2d25"),n=a.n(s);n.a},c25f:function(t,e,a){t.exports=a.p+"img/conf2.e84fbafa.png"},c46a:function(t,e,a){},cebd:function(t,e,a){},d084:function(t,e,a){"use strict";var s=a("e40f"),n=a.n(s);n.a},d5b6:function(t,e,a){"use strict";var s=a("a8f2"),n=a.n(s);n.a},dd8b:function(t,e,a){},e40f:function(t,e,a){},f408:function(t,e,a){}});
//# sourceMappingURL=app.3de60c26.js.map