(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/todo/application/views/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"18ad":function(t,e,a){},1984:function(t,e,a){},"1ad7":function(t,e,a){"use strict";var s=a("310a"),n=a.n(s);n.a},"1b6a":function(t,e,a){},"24c9":function(t,e,a){},"283e":function(t,e,a){},"286a":function(t,e,a){"use strict";var s=a("1984"),n=a.n(s);n.a},"310a":function(t,e,a){},"4e66":function(t,e,a){t.exports=a.p+"media/complete.22b3e387.wav"},"56d7":function(t,e,a){"use strict";a.r(e);a("99af"),a("4de4"),a("a9e3"),a("25eb"),a("4d90"),a("e3ea"),a("450d");var s=a("7bc3"),n=a.n(s),i=(a("826b"),a("c263")),o=a.n(i),r=(a("0c67"),a("299c")),l=a.n(r),c=(a("b5d8"),a("f494")),u=a.n(c),d=(a("425f"),a("4105")),p=a.n(d),m=(a("eca7"),a("3787")),f=a.n(m),h=(a("10cb"),a("f3ad")),v=a.n(h),g=(a("b8e0"),a("a4c4")),k=a.n(g),_=(a("8bd8"),a("4cb2")),b=a.n(_),w=(a("4ca3"),a("443e")),y=a.n(w),x=(a("920a"),a("4f0c")),C=a.n(x),S=(a("f4f9"),a("c2cc")),D=a.n(S),$=(a("7a0f"),a("0f6c")),L=a.n($),T=(a("960d"),a("defb")),F=a.n(T),O=(a("cb70"),a("b370")),P=a.n(O),I=(a("5466"),a("ecdf")),E=a.n(I),j=(a("38a0"),a("ad41")),R=a.n(j),H=(a("ce18"),a("f58e")),N=a.n(H),A=(a("de31"),a("c69e")),z=a.n(A),V=(a("a769"),a("5cc3")),M=a.n(V),q=(a("adec"),a("3d2d")),Z=a.n(q),G=(a("1f1a"),a("4e4b")),U=a.n(G),J=(a("1951"),a("eedf")),K=a.n(J),B=(a("0fb7"),a("f529")),Q=a.n(B),W=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},Y=[],tt=a("2877"),et={},at=Object(tt["a"])(et,X,Y,!1,null,null,null),st=at.exports,nt=a("8c4f"),it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",[t._v("title")]),a("div",[t._v("body "),a("el-button",{attrs:{type:"success",plain:""},on:{click:t.toHomeHandler}},[t._v("去home")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:t.toRegHandler}},[t._v("去注册")])],1)])},ot=[],rt={methods:{toHomeHandler:function(){this.$router.push("/todo/home")},toRegHandler:function(){this.$router.push("/todo/register")}}},lt=rt,ct=(a("a37e"),Object(tt["a"])(lt,it,ot,!1,null,"b9655636",null)),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[a("el-aside",{staticStyle:{"background-color":"white"},attrs:{width:"280px"}},[a("div",{staticClass:"person-info-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v("SuSu To-Do")])])],1),a("el-row",{staticClass:"avatar"},[a("el-col",{staticClass:"avatarInfo",attrs:{span:20},nativeOn:{click:function(e){return t.clickPersonInfo(e)}}},[a("el-avatar",{attrs:{size:35,src:t.personInfo.head_sculpture},on:{error:t.errorHandler}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]),a("div",{staticClass:"personInfo"},[a("h5",{staticClass:"username"},[t._v(t._s(t.personInfo.name))]),a("h6",{staticClass:"loginmark"},[t._v(t._s(t.personInfo.login_name))])])],1),a("el-col",{staticClass:"search",attrs:{span:4},nativeOn:{click:function(e){return t.clickSearch(e)}}},[a("i",{staticClass:"el-icon-search"})])],1),t.showPerson?a("el-card",{staticClass:"showPerson-card"},[a("ul",[a("li",[a("i",{staticClass:"el-icon-user"}),a("p",[t._v("管理账户")])]),a("li",{on:{click:t.clickSetting}},[a("i",{staticClass:"el-icon-setting"}),a("p",[t._v("设置")])])])]):t._e()],1),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeMenu,"background-color":"#fbfcfe",router:""}},[a("el-menu-item",{attrs:{index:"/todo/myday"}},[a("i",{staticClass:"el-icon-sunny",staticStyle:{color:"#586570"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("我的一天")])]),a("el-menu-item",{attrs:{index:"/todo/import"}},[a("i",{staticClass:"el-icon-star-off",staticStyle:{color:"#b04365"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("重要")])]),a("el-menu-item",{attrs:{index:"/todo/ppf"}},[a("i",{staticClass:"el-icon-finished",staticStyle:{color:"#418669"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("往昔-当下-谜")])]),a("el-menu-item",{attrs:{index:"/todo/all"}},[a("i",{staticClass:"el-icon-menu",staticStyle:{color:"#c8605c"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("全部")])]),a("el-menu-item",{attrs:{index:"/todo/completed"}},[a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#c8605c"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("已完成")])]),a("el-menu-item",{attrs:{index:"/todo/task"}},[a("i",{staticClass:"el-icon-s-home",staticStyle:{color:"rgb(92, 112, 190)"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("任务")])])],1),a("div",{staticClass:"divider"},[a("el-divider")],1),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeMenu,"background-color":"#fbfcfe",router:""}},t._l(this.$store.state.taskList,(function(e){return a("el-menu-item",{key:e.lid,attrs:{index:"/todo/lists/"+e.lid}},[a("i",{staticClass:"el-icon-tickets",staticStyle:{color:"#586570"}}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.listName))])])})),1)],1),a("el-main",{staticStyle:{"background-color":"rgb(231, 236, 240)"}},[a("router-view")],1)],1)},pt=[],mt=(a("96cf"),a("1da1")),ft={data:function(){return{showPerson:!1,personInfo:{name:"未登录",login_name:"登录后显示"},taskList:null}},created:function(){this.loadInfo(),this.getList()},methods:{errorHandler:function(){return!0},clickPersonInfo:function(){this.showPerson=!this.showPerson},clickSearch:function(){this.$router.push("search")},clickSetting:function(){this.$router.push({path:"setting"})},loadInfo:function(){var t=this;return Object(mt["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("home/load");case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return");case 6:t.personInfo=s.data.pInfo,console.log(s);case 8:case"end":return e.stop()}}),e)})))()},getList:function(){var t=this;return Object(mt["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/loadList");case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message({message:"获取任务清单失败！",type:"error"}));case 6:t.$store.state.taskList=s.data.list,t.taskList=t.$store.state.taskList;case 8:case"end":return e.stop()}}),e)})))()}},computed:{activeMenu:function(){var t=this.$route,e=t.path;return e}}},ht=ft,vt=(a("91f6"),Object(tt["a"])(ht,dt,pt,!1,null,"44efb9f9",null)),gt=vt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("根路径")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.toTodoHandler}},[t._v("去todo")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:t.toHomeHandler}},[t._v("去home")])],1)},_t=[],bt={methods:{toTodoHandler:function(){this.$router.push("todo")},toHomeHandler:function(){this.$router.push("todo/home")}}},wt=bt,yt=Object(tt["a"])(wt,kt,_t,!1,null,null,null),xt=yt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[a("div",{staticClass:"header"},[t._m(0),a("p",{staticClass:"datetime"},[t._v(t._s(t._f("current")("日期过滤器")))])]),a("su-item",{attrs:{data:t.tasks,title:"content",other:"listName"},on:{"comp-toggle":t.complete,"impt-toggle":t.importToggle,active:t.handleActive}}),a("su-input",{attrs:{placeholder:"添加任务","list-prop":t.taskList,"default-list":t.defaultList},on:{"select-lid":t.handleSelectLid,"keyup-enter":t.handleEnter}})],1),t.showDetail?a("div",{staticClass:"su-detail"},[a("h1",[t._v("title")]),a("div",[t._v(t._s(t.oneTask))])]):t._e()])},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-sunny",staticStyle:{color:"#b04365"}}),a("span",[t._v("我的一天")])])}],Dt={data:function(){return{showDetail:!1,oneTask:"",oldIndex:-1,tasks:null}},created:function(){this.loadTasks()},computed:{taskList:function(){return this.$store.state.taskList},defaultList:function(){return this.$store.state.defaultList}},methods:{complete:function(t){this.tasks[t].complete=!this.tasks[t].complete},importToggle:function(t){this.tasks[t].import=!this.tasks[t].import},handleActive:function(t){-1!==t?(this.showDetail=!0,this.oneTask=this.tasks[t].content):this.showDetail=!1,console.log(t)},handleSelectLid:function(t){this.lid=t,console.log(this.lid)},handleEnter:function(t){this.tasks.push(t)},loadTasks:function(){var t=this;return Object(mt["a"])(regeneratorRuntime.mark((function e(){var a,s,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tasks/myday");case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error("获取数据失败！"));case 6:for(n=s.data.myday_tasks,i=n.length,o=0;o<i;o++)"0000-00-00 00:00:00"===n[o].end_time?n[o].complete=!1:n[o].complete=!0,"0"===n[o].import?n[o].import=!1:n[o].import=!0;t.tasks=n,console.log(t.tasks);case 10:case"end":return e.stop()}}),e)})))()}}},$t=Dt,Lt=(a("c0ca"),Object(tt["a"])($t,Ct,St,!1,null,"46765f29",null)),Tt=Lt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[t._m(0),a("su-item",{attrs:{data:t.tasks,title:"content",other:"task"},on:{"comp-toggle":t.complete,"impt-toggle":t.importToggle,active:t.handleActive}}),a("su-input",{attrs:{placeholder:"添加任务",list:t.taskList,"default-item":t.taskList[4]},on:{"select-lid":t.handleSelectLid}})],1),t.showDetail?a("div",{staticClass:"su-detail"},[a("h1",[t._v("title")]),a("div",[t._v(t._s(t.oneTask))])]):t._e()])},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-star-off",staticStyle:{color:"#b04365"}}),a("span",[t._v("重要")])])}],Pt={data:function(){return{showDetail:!1,oneTask:"",oldIndex:-1,lid:"0",tasks:[{content:"早起",task:"任务",complete:!0,import:!0},{content:"高数",task:"高等数学（专）",complete:!0,import:!0},{content:"数据库",task:"数据库（专）",complete:!0,import:!0},{content:"语法",task:"英语（专）",complete:!1,import:!0},{content:"框架",task:"SuSu To-Do",complete:!0,import:!0},{content:"早起",task:"任务",complete:!1,import:!0}],taskList:[{lid:"001",listName:"高等数学（专）"},{lid:"002",listName:"数据库（专）"},{lid:"003",listName:"英语（专）"},{lid:"004",listName:"SuSu To-Do"},{lid:"005",listName:"任务"}]}},methods:{complete:function(t){this.tasks[t].complete=!this.tasks[t].complete},importToggle:function(t){this.tasks[t].import=!this.tasks[t].import},handleActive:function(t){-1!==t?(this.showDetail=!0,this.oneTask=this.tasks[t].content):this.showDetail=!1,console.log(t)},handleSelectLid:function(t){this.lid=t,console.log(this.lid)}},computed:{}},It=Pt,Et=(a("286a"),Object(tt["a"])(It,Ft,Ot,!1,null,"46754ab8",null)),jt=Et.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-detail-container"},[a("div",{staticClass:"task-main"},[t._m(0),a("su-item",{attrs:{data:t.tasks,title:"content",other:"task"},on:{"comp-toggle":t.complete,"impt-toggle":t.importToggle,active:t.handleActive}})],1),t.showDetail?a("div",{staticClass:"su-detail"},[a("h1",[t._v("title")]),a("div",[t._v(t._s(t.oneTask))])]):t._e()])},Ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"title"},[a("i",{staticClass:"el-icon-finished",staticStyle:{color:"#b04365"}}),a("span",[t._v("昨天-今天-明天")])])}],Nt={data:function(){return{showDetail:!1,oneTask:"",oldIndex:-1,tasks:[{content:"早起",task:"任务",complete:!0,import:!0},{content:"高数",task:"高等数学（专）",complete:!0,import:!0},{content:"数据库",task:"数据库（专）",complete:!0,import:!0},{content:"语法",task:"英语（专）",complete:!1,import:!0},{content:"框架",task:"SuSu To-Do",complete:!0,import:!0},{content:"早起",task:"任务",complete:!1,import:!0},{content:"语法",task:"英语（专）",complete:!1,import:!0},{content:"框架",task:"SuSu To-Do",complete:!0,import:!0},{content:"早起",task:"任务",complete:!1,import:!0},{content:"语法",task:"英语（专）",complete:!1,import:!0},{content:"框架",task:"SuSu To-Do",complete:!0,import:!0},{content:"早起",task:"任务",complete:!1,import:!0},{content:"语法",task:"英语（专）",complete:!1,import:!0},{content:"框架",task:"SuSu To-Do",complete:!0,import:!0},{content:"早起",task:"任务",complete:!1,import:!0},{content:"语法",task:"英语（专）",complete:!1,import:!0},{content:"框架",task:"SuSu To-Do",complete:!0,import:!0},{content:"早起",task:"任务",complete:!1,import:!0}]}},methods:{complete:function(t){this.tasks[t].complete=!this.tasks[t].complete},importToggle:function(t){this.tasks[t].import=!this.tasks[t].import},handleActive:function(t){-1!==t?(this.showDetail=!0,this.oneTask=this.tasks[t].content):this.showDetail=!1,console.log(t)}},computed:{}},At=Nt,zt=(a("c057"),Object(tt["a"])(At,Rt,Ht,!1,null,"43cc8086",null)),Vt=zt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"register_box"},[a("div",{staticClass:"avatar_box"},[a("el-avatar",{attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",size:100}})],1),t._m(0),a("el-form",{ref:"regFormRef",staticClass:"reg_form",attrs:{model:t.regForm,rules:t.regRules,"status-icon":"","label-width":"0px"}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入用户名","prefix-icon":"el-icon-user"},model:{value:t.regForm.name,callback:function(e){t.$set(t.regForm,"name",e)},expression:"regForm.name"}})],1),a("el-form-item",{attrs:{prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号","prefix-icon":"el-icon-mobile-phone",type:"text"},model:{value:t.regForm.phone,callback:function(e){t.$set(t.regForm,"phone",t._n(e))},expression:"regForm.phone"}})],1),a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱（可选）","prefix-icon":"el-icon-message",type:"email"},model:{value:t.regForm.email,callback:function(e){t.$set(t.regForm,"email",e)},expression:"regForm.email"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-lock",type:"password"},model:{value:t.regForm.password,callback:function(e){t.$set(t.regForm,"password",e)},expression:"regForm.password"}})],1),a("el-form-item",{attrs:{prop:"checkpass"}},[a("el-input",{attrs:{placeholder:"请确认密码","prefix-icon":"el-icon-magic-stick",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.regHandle(e)}},model:{value:t.regForm.checkpass,callback:function(e){t.$set(t.regForm,"checkpass",e)},expression:"regForm.checkpass"}})],1),a("el-form-item",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary"},on:{click:t.regHandle}},[t._v("SIGN UP")]),a("el-button",{attrs:{type:"info"},on:{click:t.resetHandle}},[t._v("RESET")])],1)],1),a("div",{staticClass:"login"},[a("p",[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("忘记密码")]),a("span",[t._v("|")]),a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.login}},[t._v("已有账号")])])])],1)])},qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("p",[t._v("SIGN UP")])])}],Zt={data:function(){var t=this,e=function(t,e,a){e&&!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e)?a(new Error("邮箱不正确")):a()},a=function(e,a,s){a?t.regForm.password!==a?s("两次输入密码不一致!"):s():s(new Error("请再次输入密码"))};return{regForm:{name:"",password:"",checkpass:"",phone:"",email:""},regRules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:3,max:16,message:"用户名在3-16位",trigger:"blur"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{type:"number",message:"手机号必须为数字值"}],email:[{validator:e,trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:3,max:16,message:"密码在3-16位",trigger:"blur"}],checkpass:[{validator:a,trigger:"blur"}]}}},methods:{regHandle:function(){var t=this;this.$refs["regFormRef"].validate(function(){var e=Object(mt["a"])(regeneratorRuntime.mark((function e(a){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("reg/register",t.regForm);case 4:if(s=e.sent,n=s.data,console.log(n),201===n.meta.status){e.next=9;break}return e.abrupt("return",t.$message.error("注册失败"));case 9:t.$message.success("注册成功"),window.localStorage.setItem("token",n.data.token),t.$router.push("/todo/home");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetHandle:function(){this.$refs["regFormRef"].resetFields()},login:function(){this.$router.push("/todo/login")}}},Gt=Zt,Ut=(a("5a18"),Object(tt["a"])(Gt,Mt,qt,!1,null,"a3a29ea0",null)),Jt=Ut.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"login_box"},[a("div",{staticClass:"avatar_box"},[a("el-avatar",{attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",size:100}})],1),t._m(0),a("el-form",{ref:"logFormRef",staticClass:"log_form",attrs:{model:t.logForm,rules:t.logRules,"status-icon":"","label-width":"0px"}},[a("el-form-item",{attrs:{prop:"login_name"}},[a("el-input",{attrs:{placeholder:"手机号/邮箱","prefix-icon":"el-icon-mobile-phone",type:"text"},model:{value:t.logForm.login_name,callback:function(e){t.$set(t.logForm,"login_name",e)},expression:"logForm.login_name"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-lock",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.logHandle(e)}},model:{value:t.logForm.password,callback:function(e){t.$set(t.logForm,"password",e)},expression:"logForm.password"}})],1),a("el-form-item",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary"},on:{click:t.logHandle}},[t._v("LOGIN")]),a("el-button",{attrs:{type:"info"},on:{click:t.resetHandle}},[t._v("RESET")])],1)],1),a("div",{staticClass:"sign"},[a("p",[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("忘记密码")]),a("span",[t._v("|")]),a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.register}},[t._v("没有账号")])])])],1)])},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("p",[t._v("LOGIN IN")])])}],Qt=(a("c975"),{data:function(){var t=function(t,e,a){-1===e.indexOf("@")||/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e)?a():a(new Error("邮箱不正确"))};return{logForm:{login_name:"",password:""},logRules:{login_name:[{required:!0,message:"此项不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:3,max:16,message:"密码在3-16位",trigger:"blur"}]}}},methods:{logHandle:function(){var t=this;this.$refs["logFormRef"].validate(function(){var e=Object(mt["a"])(regeneratorRuntime.mark((function e(a){var s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("reg/login",t.logForm);case 4:if(s=e.sent,n=s.data,200===n.meta.status){e.next=8;break}return e.abrupt("return",t.$message.error("登录失败"));case 8:if(t.$message.success("登陆成功"),window.localStorage.setItem("token",n.data.token),i=sessionStorage.getItem("current"),!i){e.next=13;break}return e.abrupt("return",t.$router.push(i));case 13:t.$router.push("/todo/home");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetHandle:function(){this.$refs["logFormRef"].resetFields()},register:function(){this.$router.push("/todo/register")}}}),Wt=Qt,Xt=(a("e0d2"),Object(tt["a"])(Wt,Kt,Bt,!1,null,"3d4eb4a2",null)),Yt=Xt.exports;W["default"].use(nt["a"]);var te=[{path:"/",name:"root",component:xt},{path:"/todo",name:"Test",component:ut},{path:"/todo/home",component:gt,redirect:"/todo/myday",children:[{path:"/todo/myday",component:Tt},{path:"/todo/import",component:jt},{path:"/todo/ppf",component:Vt},{path:"/todo/search",component:Vt}]},{path:"/todo/register",component:Jt},{path:"/todo/login",component:Yt}],ee=new nt["a"]({mode:"history",routes:te});ee.beforeEach((function(t,e,a){if("/todo/login"===t.path||"/todo/register"===t.path||"/todo"===t.path)return a();window.sessionStorage.setItem("current",t.path);var s=window.localStorage.getItem("token");if(!s)return W["default"].prototype.$message({message:"未登录",type:"warning"}),a("/todo/login");a()}));var ae=ee,se=a("2f62");W["default"].use(se["a"]);var ne=new se["a"].Store({state:{taskList:null,defaultList:{lid:"all_001",listName:"任务"}},mutations:{},actions:{},modules:{}}),ie=(a("0fae"),a("dd8b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"su-item"},t._l(t.data,(function(e,n){return s("div",{key:n,staticClass:"task-item",class:{"active-bg":n===t.oldIndex&&t.showDetail},on:{click:function(e){return t.active(n)}}},[s("div",{staticClass:"radio",on:{click:function(a){return a.stopPropagation(),t.completeToggle(n,e.complete)}}},[s("el-button",{class:[e.complete?"trim-padding":""],attrs:{size:"mini",circle:""}},[s("i",{class:[e.complete?"el-icon-success":""]})])],1),s("div",{staticClass:"content"},[s("h2",{staticClass:"item_title",class:{"delete-line":e.complete}},[t._v(" "+t._s(e[t.title])+" ")]),s("p",{staticClass:"task"},[t._v(t._s(e[t.other]))])]),s("div",{staticClass:"import",on:{click:function(e){return e.stopPropagation(),t.importToggle(n)}}},[s("i",{class:[e.import?"el-icon-star-on":"el-icon-star-off"]})]),s("audio",{ref:"audio",refInFor:!0},[s("source",{attrs:{src:a("4e66"),type:"audio/wav"}})])])})),0)}),oe=[],re={data:function(){return{oldIndex:-1,showDetail:!1}},props:["data","title","other"],methods:{completeToggle:function(t,e){this.play(t,e),this.$emit("comp-toggle",t)},importToggle:function(t){this.$emit("impt-toggle",t)},active:function(t){return this.isActive(t)?this.$emit("active",t):this.$emit("active",-1)},isActive:function(t){return t===this.oldIndex?this.showDetail=!this.showDetail:this.showDetail=!0,this.oldIndex=t,this.showDetail},play:function(t,e){e||this.$refs.audio[t].play()}}},le=re,ce=(a("1ad7"),Object(tt["a"])(le,ie,oe,!1,null,"425aa911",null)),ue=ce.exports,de={install:function(t){t.component("SuItem",ue)}},pe=de,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"su-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.textValue,expression:"textValue"}],staticClass:"input",attrs:{type:"text",placeholder:t.reallyPlaceholder},domProps:{value:t.textValue},on:{focus:function(e){t.isfocus=!0,t.reallyPlaceholder=""},blur:function(e){t.isfocus=!1,t.reallyPlaceholder=t.placeholder},keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter(e)},t.handleKeyup],input:function(e){e.target.composing||(t.textValue=e.target.value)}}}),a("span",{staticClass:"prefix"},[a("i",{class:[t.isfocus?"inputting":"el-icon-plus"]})]),a("span",{staticClass:"suffix",style:[t.textValue?"":{display:"none"}]},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"展示/收起所有清单",placement:"top"}},[a("span",{staticClass:"one",on:{click:t.handleListShow}},[a("i",{staticClass:"el-icon-s-home"}),t._v(t._s(t.activedListName)+" ")])]),a("el-tooltip",{attrs:{effect:"dark",content:"选择日期",placement:"top"}},[a("span",{staticClass:"two",on:{click:t.handleDateShow}},[a("i",{staticClass:"el-icon-date"})])])],1),a("el-card",{staticClass:"list-box-card",style:[t.isShowList?{display:"block"}:{display:"none"}]},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"item",on:{click:function(a){return t.handleListSelect(e)}}},[a("i",{staticClass:"el-icon-s-order"}),a("span",[t._v(t._s(e.listName))])])})),0),a("div",{staticClass:"date-time-picker",style:[t.isShowDate?{display:"flex"}:{display:"none"}]},[a("el-card",{staticClass:"start-card",scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"clearfix"},[a("span",[t._v("开始时间")])])]},proxy:!0}])},[a("div",{staticClass:"date-item",on:{click:function(e){return t.handleStartDatePick(0)}}},[a("i",{staticClass:"el-icon-sunny"}),a("span",[t._v("现在")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",0)))])]),a("div",{staticClass:"date-item",on:{click:function(e){return t.handleStartDatePick(1)}}},[a("i",{staticClass:"el-icon-arrow-right"}),a("span",[t._v("明天")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",1)))])]),a("div",{staticClass:"date-item",on:{click:function(e){return t.handleStartDatePick(2)}}},[a("i",{staticClass:"el-icon-d-arrow-right"}),a("span",[t._v("下周")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",11)))])]),a("div",{staticClass:"date-item"},[a("i",{staticClass:"el-icon-date"}),a("span",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始日期时间"},on:{change:t.handleStartDatePick},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}})],1)])]),a("el-card",{staticClass:"dead-card",scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"clearfix"},[a("span",[t._v("截止时间")])])]},proxy:!0}])},[a("div",{staticClass:"date-item",on:{click:function(e){return t.handleDeadlineDatePick(0)}}},[a("i",{staticClass:"el-icon-sunny"}),a("span",[t._v("今天")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",0)))])]),a("div",{staticClass:"date-item",on:{click:function(e){return t.handleDeadlineDatePick(1)}}},[a("i",{staticClass:"el-icon-arrow-right"}),a("span",[t._v("明天")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",1)))])]),a("div",{staticClass:"date-item",on:{click:function(e){return t.handleDeadlineDatePick(2)}}},[a("i",{staticClass:"el-icon-d-arrow-right"}),a("span",[t._v("下周")]),a("span",{staticClass:"week"},[t._v(t._s(t._f("week")("today",11)))])]),a("div",{staticClass:"date-item"},[a("i",{staticClass:"el-icon-date"}),a("span",[a("el-date-picker",{attrs:{type:"datetime","prefix-icon":"",placeholder:"选择截止日期时间"},on:{change:t.handleDeadlineDatePick},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}})],1)])])],1)],1)},fe=[],he=(a("d81d"),{props:["listProp","placeholder","value","defaultList"],data:function(){return{textValue:"",reallyPlaceholder:this.placeholder,isfocus:!1,isShowList:!1,list:null,activedListName:this.defaultList.listName,activedLid:this.defaultList.lid,isShowDate:!1,start_time:null,deadline:null}},created:function(){},watch:{listProp:function(){this.list=this.listProp.map((function(t){return t})),this.list.unshift(this.defaultList)}},methods:{handleListShow:function(){this.isShowList=!this.isShowList,this.isShowDate=!1},handleDateShow:function(){this.isShowDate=!this.isShowDate,this.isShowList=!1},handleListSelect:function(t){this.activedListName=t.listName,this.activedLid=t.lid,this.$emit("select-lid",t.lid),this.isShowList=!this.isShowList},handleStartDatePick:function(t){var e=new Date;switch(t){case 0:this.start_time=e;break;case 1:this.start_time=e.setDate(e.getDate()+1);break;case 2:var a=e.getDay();this.start_time=e.setDate(e.getDate()+7-a);break;default:break}},handleDeadlineDatePick:function(t){var e=this,a=new Date;switch(t){case 0:this.deadline=a;break;case 1:this.deadline=a.setDate(a.getDate()+1);break;case 2:var s=a.getDay();this.deadline=a.setDate(a.getDate()+7-s);break;default:break}setTimeout((function(){return e.isShowDate=!1}),500)},handleEnter:function(){var t={lid:this.activedLid,listName:this.activedListName,content:this.textValue,task:"测试组",complete:!1,import:!0,start_time:this.start_time?this.start_time:new Date,deadline:this.deadline?this.deadline:(new Date).setDate((new Date).getDate()+1)};return console.log(t),this.$emit("keyup-enter",t),this.textValue=""},handleKeyup:function(){this.textValue||(this.isShowList=!1,this.isShowDate=!1)}}}),ve=he,ge=(a("7208"),Object(tt["a"])(ve,me,fe,!1,null,"6282eaab",null)),ke=ge.exports,_e={install:function(t){t.component("SuInput",ke)}},be=a("5976"),we=a.n(be);we.a.defaults.baseURL="http://localhost/todo/susu/",we.a.interceptors.request.use((function(t){return t.headers.Authorization=window.localStorage.getItem("token"),t})),W["default"].prototype.$http=we.a,W["default"].prototype.$message=Q.a,W["default"].config.productionTip=!1,W["default"].use(K.a),W["default"].use(U.a),W["default"].use(Z.a),W["default"].use(M.a),W["default"].use(z.a),W["default"].use(N.a),W["default"].use(R.a),W["default"].use(E.a),W["default"].use(P.a),W["default"].use(F.a),W["default"].use(L.a),W["default"].use(D.a),W["default"].use(C.a),W["default"].use(y.a),W["default"].use(b.a),W["default"].use(k.a),W["default"].use(v.a),W["default"].use(f.a),W["default"].use(p.a),W["default"].use(u.a),W["default"].use(pe),W["default"].use(_e),W["default"].use(l.a),W["default"].use(o.a),W["default"].use(n.a),we.a.interceptors.response.use((function(t){var e=t.data,a=Number.parseInt(e.meta.status/100);return 2===a&&window.localStorage.setItem("token",e.data.token),401===e.meta.status&&"/todo/login"!==ae.currentRoute.fullPath&&(Q()({message:"登录失效",type:"warning"}),localStorage.removeItem("token"),ae.push("/todo/login")),t})),W["default"].filter("current",(function(){var t=new Date,e=["日","一","二","三","四","五","六"],a=(t.getMonth()+1+"").padStart(2,"0"),s=t.getDate(),n=t.getDay();return"".concat(a,"月").concat(s,"日，星期").concat(e[n])})),W["default"].filter("week",(function(){var t=new Date,e=["日","一","二","三","四","五","六"],a=t.getDay();return 11===arguments[1]?"周一":"周".concat(e[a+arguments[1]])})),new W["default"]({router:ae,store:ne,render:function(t){return t(st)}}).$mount("#app")},"5a18":function(t,e,a){"use strict";var s=a("af1d"),n=a.n(s);n.a},7208:function(t,e,a){"use strict";var s=a("24c9"),n=a.n(s);n.a},"91f6":function(t,e,a){"use strict";var s=a("18ad"),n=a.n(s);n.a},a37e:function(t,e,a){"use strict";var s=a("b877"),n=a.n(s);n.a},af1d:function(t,e,a){},b877:function(t,e,a){},bf34:function(t,e,a){},c057:function(t,e,a){"use strict";var s=a("1b6a"),n=a.n(s);n.a},c0ca:function(t,e,a){"use strict";var s=a("bf34"),n=a.n(s);n.a},dd8b:function(t,e,a){},e0d2:function(t,e,a){"use strict";var s=a("283e"),n=a.n(s);n.a}});
//# sourceMappingURL=app.b024ad4c.js.map